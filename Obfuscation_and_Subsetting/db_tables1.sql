set verify on

--------------------------------------------------------
PROMPT Creating Table NON_HOLDER_CA
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..NON_HOLDER_CA 
   (	CASH_ACCOUNT_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4 CHAR), 
	HOLDER_NAME_ID NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
--  Constraints for Table NON_HOLDER_CA
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..NON_HOLDER_CA MODIFY (CASH_ACCOUNT_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..NON_HOLDER_CA MODIFY (HOLDER_NAME_ID NOT NULL ENABLE);


--------------------------------------------------------
PROMPT Creating Table BANK_BRANCHES_ADDR_LU2
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..BANK_BRANCHES_ADDR_LU2
   (	NUM_ADDR_KEY NUMBER, 
	ADDR_KEY VARCHAR2(217), 
	ADDRESS_LINE1 VARCHAR2(35 CHAR), 
	ADDRESS_LINE2 VARCHAR2(35 CHAR), 
	ADDRESS_LINE3 VARCHAR2(35 CHAR), 
	ADDRESS_LINE4 VARCHAR2(35 CHAR), 
	ADDRESS_LINE5 VARCHAR2(35 CHAR), 
	ADDRESS_LINE6 VARCHAR2(35 CHAR), 
	POSTCODE_LEFT VARCHAR2(4 CHAR), 
	POSTCODE_RIGHT VARCHAR2(3 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table BANK_BRANCHES_ADDR_LU1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 
   (	ADDR_KEY VARCHAR2(217), 
	NUM_ADDR_KEY NUMBER, 
	MIN_ADDR_KEY_NS NUMBER, 
	MAX_ADDR_KEY_NS NUMBER, 
	ADDRESS_LINE1 VARCHAR2(35 CHAR), 
	ADDRESS_LINE2 VARCHAR2(35 CHAR), 
	ADDRESS_LINE3 VARCHAR2(35 CHAR), 
	ADDRESS_LINE4 VARCHAR2(35 CHAR), 
	ADDRESS_LINE5 VARCHAR2(35 CHAR), 
	ADDRESS_LINE6 VARCHAR2(35 CHAR), 
	POSTCODE_LEFT VARCHAR2(4 CHAR), 
	POSTCODE_RIGHT VARCHAR2(3 CHAR), 
	ADDRESS_LINE1_HASH NUMBER, 
	ADDRESS_LINE2_HASH NUMBER, 
	ADDRESS_LINE3_HASH NUMBER, 
	ADDRESS_LINE4_HASH NUMBER, 
	ADDRESS_LINE5_HASH NUMBER, 
	ADDRESS_LINE6_HASH NUMBER, 
	POSTCODE_LEFT_HASH NUMBER, 
	POSTCODE_RIGHT_HASH NUMBER, 
	ADDRESS_LINE1_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE2_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE3_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE4_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE5_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE6_SHUFFLE_KEY NUMBER, 
	POSTCODE_LEFT_SHUFFLE_KEY NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table BANK_BRANCHES_ADDR_LU
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..BANK_BRANCHES_ADDR_LU 
   (	ADDR_KEY VARCHAR2(217), 
	NUM_ADDR_KEY NUMBER, 
	MIN_ADDR_KEY_NS NUMBER, 
	MAX_ADDR_KEY_NS NUMBER, 
	ADDRESS_LINE1 VARCHAR2(35 CHAR), 
	ADDRESS_LINE2 VARCHAR2(35 CHAR), 
	ADDRESS_LINE3 VARCHAR2(35 CHAR), 
	ADDRESS_LINE4 VARCHAR2(35 CHAR), 
	ADDRESS_LINE5 VARCHAR2(35 CHAR), 
	ADDRESS_LINE6 VARCHAR2(35 CHAR), 
	POSTCODE_LEFT VARCHAR2(4 CHAR), 
	POSTCODE_RIGHT VARCHAR2(3 CHAR), 
	ADDRESS_LINE1_HASH NUMBER, 
	ADDRESS_LINE2_HASH NUMBER, 
	ADDRESS_LINE3_HASH NUMBER, 
	ADDRESS_LINE4_HASH NUMBER, 
	ADDRESS_LINE5_HASH NUMBER, 
	ADDRESS_LINE6_HASH NUMBER, 
	POSTCODE_LEFT_HASH NUMBER, 
	POSTCODE_RIGHT_HASH NUMBER, 
	ADDRESS_LINE1_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE2_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE3_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE4_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE5_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE6_SHUFFLE_KEY NUMBER, 
	POSTCODE_LEFT_SHUFFLE_KEY NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE1_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE2_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE3_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE4_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE5_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE6_SHUFFLE VARCHAR2(35 CHAR), 
	POSTCODE_LEFT_SHUFFLE VARCHAR2(4 CHAR), 
	POSTCODE_RIGHT_SHUFFLE VARCHAR2(3 CHAR), 
	ADDRESS_LINE1_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE2_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE3_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE4_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE5_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE6_SHUFFLE_HASH NUMBER, 
	POSTCODE_LEFT_SHUFFLE_HASH NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_HASH NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table BANK_BRANCHES_ADDR_LU_ADJUST
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST 
   (	ADDR_KEY VARCHAR2(217), 
	NUM_ADDR_KEY NUMBER, 
	MIN_ADDR_KEY_NS NUMBER, 
	MAX_ADDR_KEY_NS NUMBER, 
	ADDRESS_LINE1 VARCHAR2(35 CHAR), 
	ADDRESS_LINE2 VARCHAR2(35 CHAR), 
	ADDRESS_LINE3 VARCHAR2(35 CHAR), 
	ADDRESS_LINE4 VARCHAR2(35 CHAR), 
	ADDRESS_LINE5 VARCHAR2(35 CHAR), 
	ADDRESS_LINE6 VARCHAR2(35 CHAR), 
	POSTCODE_LEFT VARCHAR2(4 CHAR), 
	POSTCODE_RIGHT VARCHAR2(3 CHAR), 
	ADDRESS_LINE1_HASH NUMBER, 
	ADDRESS_LINE2_HASH NUMBER, 
	ADDRESS_LINE3_HASH NUMBER, 
	ADDRESS_LINE4_HASH NUMBER, 
	ADDRESS_LINE5_HASH NUMBER, 
	ADDRESS_LINE6_HASH NUMBER, 
	POSTCODE_LEFT_HASH NUMBER, 
	POSTCODE_RIGHT_HASH NUMBER, 
	ADDRESS_LINE1_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE2_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE3_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE4_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE5_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE6_SHUFFLE_KEY NUMBER, 
	POSTCODE_LEFT_SHUFFLE_KEY NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_KEY NUMBER, 
	ADDRESS_LINE1_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE2_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE3_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE4_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE5_SHUFFLE VARCHAR2(35 CHAR), 
	ADDRESS_LINE6_SHUFFLE VARCHAR2(35 CHAR), 
	POSTCODE_LEFT_SHUFFLE VARCHAR2(4 CHAR), 
	POSTCODE_RIGHT_SHUFFLE VARCHAR2(3 CHAR), 
	ADDRESS_LINE1_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE2_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE3_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE4_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE5_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE6_SHUFFLE_HASH NUMBER, 
	POSTCODE_LEFT_SHUFFLE_HASH NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1 )
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Index BANK_BRANC1
--------------------------------------------------------

  CREATE INDEX BANK_BRANC1 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU2 (ADDR_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY2
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY2 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU2 (NUM_ADDR_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY_NS14
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY_NS14 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (MAX_ADDR_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY_NS15
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY_NS15 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (MIN_ADDR_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY16
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY16 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (NUM_ADDR_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEFT_HASH17
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEFT_HASH17 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (POSTCODE_LEFT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEFT_SHUFFLE_KEY18
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEFT_SHUFFLE_KEY18 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (POSTCODE_LEFT_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCIGHT_HASH19
--------------------------------------------------------

  CREATE INDEX BANK_BRANCIGHT_HASH19 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (POSTCODE_RIGHT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCIGHT_SHUFFLE_KEY20
--------------------------------------------------------

  CREATE INDEX BANK_BRANCIGHT_SHUFFLE_KEY20 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (POSTCODE_RIGHT_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE1_SHUFFLE_KEY2
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE1_SHUFFLE_KEY2 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE1_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE2_HASH3
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE2_HASH3 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE2_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE2_SHUFFLE_KEY4
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE2_SHUFFLE_KEY4 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE2_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE3_HASH5
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE3_HASH5 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE3_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE3_SHUFFLE_KEY6
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE3_SHUFFLE_KEY6 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE3_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE4_HASH7
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE4_HASH7 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE4_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE4_SHUFFLE_KEY8
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE4_SHUFFLE_KEY8 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE4_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE5_HASH9
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE5_HASH9 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE5_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE5_SHUFFLE_KEY10
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE5_SHUFFLE_KEY10 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE5_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE6_HASH11
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE6_HASH11 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE6_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE6_SHUFFLE_KEY12
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE6_SHUFFLE_KEY12 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDRESS_LINE6_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANC13
--------------------------------------------------------

  CREATE INDEX BANK_BRANC13 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU1 (ADDR_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCIGHT_SHUFFLE_KEY28
--------------------------------------------------------

  CREATE INDEX BANK_BRANCIGHT_SHUFFLE_KEY28 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (POSTCODE_RIGHT_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE1_HASH1
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE1_HASH1 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE1_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE1_SHUFFLE_HASH2
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE1_SHUFFLE_HASH2 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE1_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE1_SHUFFLE_KEY3
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE1_SHUFFLE_KEY3 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE1_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE2_HASH4
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE2_HASH4 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE2_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE2_SHUFFLE_HASH5
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE2_SHUFFLE_HASH5 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE2_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE2_SHUFFLE_KEY6
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE2_SHUFFLE_KEY6 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE2_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE3_HASH7
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE3_HASH7 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE3_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE3_SHUFFLE_HASH8
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE3_SHUFFLE_HASH8 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE3_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE3_SHUFFLE_KEY9
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE3_SHUFFLE_KEY9 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE3_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE4_HASH10
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE4_HASH10 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE4_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE4_SHUFFLE_HASH11
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE4_SHUFFLE_HASH11 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE4_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE4_SHUFFLE_KEY12
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE4_SHUFFLE_KEY12 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE4_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE5_HASH13
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE5_HASH13 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE5_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE5_SHUFFLE_HASH14
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE5_SHUFFLE_HASH14 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE5_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE5_SHUFFLE_KEY15
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE5_SHUFFLE_KEY15 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE5_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE6_HASH16
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE6_HASH16 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE6_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE6_SHUFFLE_HASH17
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE6_SHUFFLE_HASH17 ON BANK_BRANCHES_ADDR_LU (ADDRESS_LINE6_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE6_SHUFFLE_KEY18
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE6_SHUFFLE_KEY18 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDRESS_LINE6_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANC19
--------------------------------------------------------

  CREATE INDEX BANK_BRANC19 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (ADDR_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY_NS20
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY_NS20 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (MAX_ADDR_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY_NS21
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY_NS21 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (MIN_ADDR_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY22
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY22 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (NUM_ADDR_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEFT_HASH23
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEFT_HASH23 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (POSTCODE_LEFT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEFT_SHUFFLE_HASH24
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEFT_SHUFFLE_HASH24 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (POSTCODE_LEFT_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEFT_SHUFFLE_KEY25
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEFT_SHUFFLE_KEY25 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (POSTCODE_LEFT_SHUFFLE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCIGHT_HASH26
--------------------------------------------------------

  CREATE INDEX BANK_BRANCIGHT_HASH26 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (POSTCODE_RIGHT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCIGHT_SHUFFLE_HASH27
--------------------------------------------------------

  CREATE INDEX BANK_BRANCIGHT_SHUFFLE_HASH27 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU (POSTCODE_RIGHT_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE2_SHUFFLE_HASH4
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE2_SHUFFLE_HASH4 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (ADDRESS_LINE2_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE3_SHUFFLE_HASH6
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE3_SHUFFLE_HASH6 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (ADDRESS_LINE3_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE4_SHUFFLE_HASH8
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE4_SHUFFLE_HASH8 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (ADDRESS_LINE4_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE5_SHUFFLE_HASH10
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE5_SHUFFLE_HASH10 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (ADDRESS_LINE5_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCNE6_SHUFFLE_HASH12
--------------------------------------------------------

  CREATE INDEX BANK_BRANCNE6_SHUFFLE_HASH12 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (ADDRESS_LINE6_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEY_NS13
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEY_NS13 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (MAX_ADDR_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEFT_HASH15
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEFT_HASH15 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (POSTCODE_LEFT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCEFT_SHUFFLE_HASH16
--------------------------------------------------------

  CREATE INDEX BANK_BRANCEFT_SHUFFLE_HASH16 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (POSTCODE_LEFT_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCIGHT_HASH17
--------------------------------------------------------

  CREATE INDEX BANK_BRANCIGHT_HASH17 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (POSTCODE_RIGHT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index BANK_BRANCIGHT_SHUFFLE_HASH18
--------------------------------------------------------

  CREATE INDEX BANK_BRANCIGHT_SHUFFLE_HASH18 ON &&OS_OWNER..BANK_BRANCHES_ADDR_LU_ADJUST (POSTCODE_RIGHT_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;

--------------------------------------------------------
PROMPT Creating Table STATS_STMTS
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..STATS_STMTS 
  (	
    OWNER              VARCHAR2(30),
    TABLE_NAME         VARCHAR2(30), 
	COLUMN_NAME        VARCHAR2(30),	 
	TECHNIQUE          VARCHAR2(100), 
	TRANS_FUNCTION     VARCHAR2(4000), 
	STEREO_TYPE        VARCHAR2(50),
	STMT               VARCHAR2(4000 )	
   );

create index ss_idx1 on &&OS_OWNER..stats_stmts(owner,table_name) TABLESPACE PRISM_INDEX;

--------------------------------------------------------
PROMPT Creating Table IRISH_DIST_CODE_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	IRISH_DIST_CODE VARCHAR2(35 CHAR), 
	IRISH_DIST_CODE_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	IRISH_DIST_CODE_MIN_KEY_NS NUMBER, 
	IRISH_DIST_CODE_MAX_KEY_NS NUMBER, 
	IRISH_DIST_CODE_SHUFFLE_KEY_NS NUMBER, 
	IRISH_DIST_CODE_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	IRISH_DIST_CODE_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table IRISH_DIST_CODE_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE1 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	IRISH_DIST_CODE VARCHAR2(35 CHAR), 
	IRISH_DIST_CODE_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	IRISH_DIST_CODE_MAX_KEY_NS NUMBER, 
	IRISH_DIST_CODE_MIN_KEY_NS NUMBER, 
	IRISH_DIST_CODE_SHUFFLE_HASH NUMBER, 
	IRISH_DIST_CODE_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Index IRISH_DIST_CODE_HASH1
--------------------------------------------------------

  CREATE INDEX IRISH_DIST_CODE_HASH1 ON &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE (IRISH_DIST_CODE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index IRISH_DIST_CODE_MAX_KEY_NS2
--------------------------------------------------------

  CREATE INDEX IRISH_DIST_CODE_MAX_KEY_NS2 ON &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE (IRISH_DIST_CODE_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index IRISH_DIST_CODE_MIN_KEY_NS3
--------------------------------------------------------

  CREATE INDEX IRISH_DIST_CODE_MIN_KEY_NS3 ON &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE (IRISH_DIST_CODE_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index IRISH_DIST_CODE_SHUFFLE_HASH4
--------------------------------------------------------

  CREATE INDEX IRISH_DIST_CODE_SHUFFLE_HASH4 ON &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE (IRISH_DIST_CODE_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index IRISH_DIST_CODE_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX IRISH_DIST_CODE_SHUFFLE_IDX1 ON &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index IRISH_DIST_CODE_SHUFFLE_IDX2
--------------------------------------------------------

  CREATE INDEX IRISH_DIST_CODE_SHUFFLE_IDX2 ON &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE (HOLDER_ADDRESS_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index IRISH_DIST_CODE_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX IRISH_DIST_CODE_SHUFFLE1_IDX1 ON &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
--  Constraints for Table IRISH_DIST_CODE_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table IRISH_DIST_CODE_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE1 MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..IRISH_DIST_CODE_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);


--------------------------------------------------------
PROMPT Creating Table SURNAME_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SURNAME_SHUFFLE 
   (	HOLDER_NAME_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	HOLDER_SEQ NUMBER(*,0), 
	SURNAME VARCHAR2(50 CHAR), 
	SURNAME_HASH NUMBER, 
	WORKING_GENDER VARCHAR2(1 CHAR), 
	KEY_NS NUMBER, 
	SURNAME_MIN_KEY_NS NUMBER, 
	SURNAME_MAX_KEY_NS NUMBER, 
	SURNAME_SHUFFLE_KEY_NS NUMBER, 
	SURNAME_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	SURNAME_SHUFFLE VARCHAR2(50 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table SURNAME_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SURNAME_SHUFFLE1 
   (	HOLDER_NAME_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	HOLDER_SEQ NUMBER(*,0), 
	SURNAME VARCHAR2(50 CHAR), 
	SURNAME_HASH NUMBER, 
	WORKING_GENDER VARCHAR2(1 CHAR), 
	KEY_NS NUMBER, 
	SURNAME_MAX_KEY_NS NUMBER, 
	SURNAME_MIN_KEY_NS NUMBER, 
	SURNAME_SHUFFLE_HASH NUMBER, 
	SURNAME_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Index SURNAME_SHSH2
--------------------------------------------------------

  CREATE INDEX SURNAME_SHSH2 ON &&OS_OWNER..SURNAME_SHUFFLE (SURNAME_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index SURNAME_SHX_KEY_NS3
--------------------------------------------------------

  CREATE INDEX SURNAME_SHX_KEY_NS3 ON &&OS_OWNER..SURNAME_SHUFFLE (SURNAME_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index SURNAME_SHN_KEY_NS4
--------------------------------------------------------

  CREATE INDEX SURNAME_SHN_KEY_NS4 ON &&OS_OWNER..SURNAME_SHUFFLE (SURNAME_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index SURNAME_SHUFFLE_HASH5
--------------------------------------------------------

  CREATE INDEX SURNAME_SHUFFLE_HASH5 ON &&OS_OWNER..SURNAME_SHUFFLE (SURNAME_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index SURNAME_SHUFFLE_KEY_NS6
--------------------------------------------------------

  CREATE INDEX SURNAME_SHUFFLE_KEY_NS6 ON &&OS_OWNER..SURNAME_SHUFFLE (SURNAME_SHUFFLE_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index SURNAME_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX SURNAME_SHUFFLE_IDX1 ON &&OS_OWNER..SURNAME_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index SURNAME_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX SURNAME_SHUFFLE1_IDX1 ON &&OS_OWNER..SURNAME_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Constraints for Table SURNAME_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE MODIFY (HOLDER_NAME_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE MODIFY (HOLDER_SEQ NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table SURNAME_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE1 MODIFY (HOLDER_NAME_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..SURNAME_SHUFFLE1 MODIFY (HOLDER_SEQ NOT NULL ENABLE);


--------------------------------------------------------
PROMPT Creating Table FORENAME_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..FORENAME_SHUFFLE 
   (	HOLDER_NAME_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	HOLDER_SEQ NUMBER(*,0), 
	FORENAME VARCHAR2(70 CHAR), 
	FORENAME_HASH NUMBER, 
	WORKING_GENDER VARCHAR2(1 CHAR), 
	KEY_NS NUMBER, 
	FORENAME_MIN_KEY_NS NUMBER, 
	FORENAME_MAX_KEY_NS NUMBER, 
	FORENAME_SHUFFLE_KEY_NS NUMBER, 
	FORENAME_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	FORENAME_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table FORENAME_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..FORENAME_SHUFFLE1 
   (	HOLDER_NAME_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	HOLDER_SEQ NUMBER(*,0), 
	FORENAME VARCHAR2(70 CHAR), 
	FORENAME_HASH NUMBER, 
	WORKING_GENDER VARCHAR2(1 CHAR), 
	KEY_NS NUMBER, 
	FORENAME_MAX_KEY_NS NUMBER, 
	FORENAME_MIN_KEY_NS NUMBER, 
	FORENAME_SHUFFLE_HASH NUMBER, 
	FORENAME_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table SK_TEMP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SK_TEMP 
   (	COMP_CODE VARCHAR2(4), 
	HOLDER_SEQ NUMBER, 
	IVC_CODE VARCHAR2(11), 
	SK_GEN VARCHAR2(4000)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Index FORENAME_SASH1
--------------------------------------------------------

  CREATE INDEX FORENAME_SASH1 ON FORENAME_SHUFFLE (FORENAME_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index FORENAME_SAX_KEY_NS2
--------------------------------------------------------

  CREATE INDEX FORENAME_SAX_KEY_NS2 ON FORENAME_SHUFFLE (FORENAME_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index FORENAME_SIN_KEY_NS3
--------------------------------------------------------

  CREATE INDEX FORENAME_SIN_KEY_NS3 ON FORENAME_SHUFFLE (FORENAME_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index FORENAME_SHUFFLE_HASH4
--------------------------------------------------------

  CREATE INDEX FORENAME_SHUFFLE_HASH4 ON FORENAME_SHUFFLE (FORENAME_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index FORENAME_SHUFFLE_KEY_NS5
--------------------------------------------------------

  CREATE INDEX FORENAME_SHUFFLE_KEY_NS5 ON FORENAME_SHUFFLE (FORENAME_SHUFFLE_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index FORENAME_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX FORENAME_SHUFFLE_IDX1 ON FORENAME_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index FORENAME_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX FORENAME_SHUFFLE1_IDX1 ON FORENAME_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index SK_TEMP_12345678
--------------------------------------------------------

  CREATE INDEX SK_TEMP_12345678 ON SK_TEMP (COMP_CODE, IVC_CODE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Constraints for Table FORENAME_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE MODIFY (HOLDER_NAME_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE MODIFY (HOLDER_SEQ NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table FORENAME_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE1 MODIFY (HOLDER_NAME_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..FORENAME_SHUFFLE1 MODIFY (HOLDER_SEQ NOT NULL ENABLE);

--------------------------------------------------------
PROMPT Creating Table FORENAME_SEED
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..FORENAME_SEED 
   (	YEAR NUMBER, 
	NAME VARCHAR2(20), 
	PERCENT NUMBER, 
	GENDER VARCHAR2(1)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);


--------------------------------------------------------
PROMPT Creating Table OBFUS_PRE_CHECK
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..OBFUS_PRE_CHECK 
   (	OWNER VARCHAR2(40), 
	TABLE_NAME VARCHAR2(40), 
	COLUMN_NAME VARCHAR2(40), 
	POPULATED VARCHAR2(1), 
	PREV_POPULATED VARCHAR2(1), 
	NEW_COL VARCHAR2(1), 
	IN_PC VARCHAR2(4000), 
	MIG_VERSION VARCHAR2(20), 
	PREV_MIG_VERSION VARCHAR2(20), 
	DATA_TYPE VARCHAR2(4000),
	EXIST VARCHAR2(1),	
	NOTES VARCHAR2(4000)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);


--------------------------------------------------------
PROMPT Creating Table A_CONSTRAINTS
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..A_CONSTRAINTS 
   (	OWNER VARCHAR2(120), 
	CONSTRAINT_NAME VARCHAR2(30), 
	CONSTRAINT_TYPE VARCHAR2(1), 
	TABLE_NAME VARCHAR2(30), 
	R_OWNER VARCHAR2(120), 
	R_CONSTRAINT_NAME VARCHAR2(30)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);

--------------------------------------------------------
PROMPT Creating Table A_TABLES
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..A_TABLES 
   (	OWNER VARCHAR2(30), 
	TABLE_NAME VARCHAR2(30)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);



--------------------------------------------------------
PROMPT Creating Table PLACES
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..PLACES 
   (	ID VARCHAR2(100), 
	NAMES_URI VARCHAR2(100), 
	NAME1 VARCHAR2(100), 
	NAME1_LANG VARCHAR2(100), 
	NAME2 VARCHAR2(100), 
	NAME2_LANG VARCHAR2(100), 
	TYPE VARCHAR2(100), 
	LOCAL_TYPE VARCHAR2(100), 
	GEOMETRY_X VARCHAR2(100), 
	GEOMETRY_Y VARCHAR2(100), 
	MOST_DETAIL_VIEW_RES VARCHAR2(100), 
	LEAST_DETAIL_VIEW_RES VARCHAR2(100), 
	MBR_XMIN VARCHAR2(100), 
	MBR_YMIN VARCHAR2(100), 
	MBR_XMAX VARCHAR2(100), 
	MBR_YMAX VARCHAR2(100), 
	POSTCODE_DISTRICT VARCHAR2(100), 
	POSTCODE_DISTRICT_URI VARCHAR2(100), 
	POPULATED_PLACE VARCHAR2(100), 
	POPULATED_PLACE_URI VARCHAR2(100), 
	POPULATED_PLACE_TYPE VARCHAR2(100), 
	DISTRICT_BOROUGH VARCHAR2(100), 
	DISTRICT_BOROUGH_URI VARCHAR2(100), 
	DISTRICT_BOROUGH_TYPE VARCHAR2(100), 
	COUNTY_UNITARY VARCHAR2(100), 
	COUNTY_UNITARY_URI VARCHAR2(100), 
	COUNTY_UNITARY_TYPE VARCHAR2(100), 
	REGION VARCHAR2(100), 
	REGION_URI VARCHAR2(100), 
	COUNTRY VARCHAR2(100), 
	COUNTRY_URI VARCHAR2(100), 
	RELATED_SPATIAL_OBJECT VARCHAR2(100), 
	SAME_AS_DBPEDIA VARCHAR2(100), 
	SAME_AS_GEONAMES VARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Index PLACES_IDX1
--------------------------------------------------------

  CREATE INDEX PLACES_IDX1 ON PLACES (ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;


--------------------------------------------------------
PROMPT Creating Table SURNAME_LIST
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SURNAME_LIST 
   (	SURNAME_SEQ NUMBER(*,0), 
	HOLDER_NAME_ID NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table FORENAME_LIST
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..FORENAME_LIST 
   (	KEY_NS NUMBER, 
	YEAR NUMBER, 
	NAME VARCHAR2(20), 
	PERCENT NUMBER, 
	GENDER VARCHAR2(1)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Index SL_IDX1
--------------------------------------------------------

  CREATE INDEX SL_IDX1 ON SURNAME_LIST (SURNAME_SEQ) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index FL_IDX1
--------------------------------------------------------

  CREATE INDEX FL_IDX1 ON FORENAME_LIST (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Constraints for Table SURNAME_LIST
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..SURNAME_LIST MODIFY (HOLDER_NAME_ID NOT NULL ENABLE);


--------------------------------------------------------
PROMPT Creating Table RANDOMISED_NOTES
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RANDOMISED_NOTES 
   (	RND_WORDS VARCHAR2(4000), 
	KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Index IDX_RANDOMISED_NOTES_1
--------------------------------------------------------

  CREATE INDEX IDX_RANDOMISED_NOTES_1 ON RANDOMISED_NOTES (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;

--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE1_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE1 VARCHAR2(35 CHAR), 
	ADDRESS_LINE1_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE1_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE1_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE1_SHUFFLE_KEY_NS NUMBER, 
	ADDRESS_LINE1_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	ADDRESS_LINE1_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE1_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE1 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE1 VARCHAR2(35 CHAR), 
	ADDRESS_LINE1_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE1_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE1_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE1_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE1_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE2_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE2 VARCHAR2(35 CHAR), 
	ADDRESS_LINE2_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE2_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE2_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE2_SHUFFLE_KEY_NS NUMBER, 
	ADDRESS_LINE2_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	ADDRESS_LINE2_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE2_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE1 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE2 VARCHAR2(35 CHAR), 
	ADDRESS_LINE2_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE2_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE2_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE2_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE2_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE3_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE3 VARCHAR2(35 CHAR), 
	ADDRESS_LINE3_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE3_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE3_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE3_SHUFFLE_KEY_NS NUMBER, 
	ADDRESS_LINE3_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	ADDRESS_LINE3_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE3_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE1 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE3 VARCHAR2(35 CHAR), 
	ADDRESS_LINE3_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE3_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE3_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE3_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE3_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE456_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE4 VARCHAR2(35 CHAR), 
	ADDRESS_LINE5 VARCHAR2(35 CHAR), 
	ADDRESS_LINE6 VARCHAR2(35 CHAR), 
	ADDRESS_LINE456_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE456_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE456_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE456_SHUFFLE_KEY_NS NUMBER, 
	ADDRESS_LINE456_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	ADDRESS_LINE4_SHUFFLE VARCHAR2(70 CHAR), 
	ADDRESS_LINE5_SHUFFLE VARCHAR2(70 CHAR), 
	ADDRESS_LINE6_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE456_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE1 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	ADDRESS_LINE4 VARCHAR2(35 CHAR), 
	ADDRESS_LINE5 VARCHAR2(35 CHAR), 
	ADDRESS_LINE6 VARCHAR2(35 CHAR), 
	ADDRESS_LINE456_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	ADDRESS_LINE456_MAX_KEY_NS NUMBER, 
	ADDRESS_LINE456_MIN_KEY_NS NUMBER, 
	ADDRESS_LINE456_SHUFFLE_HASH NUMBER, 
	ADDRESS_LINE456_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE_1_RND
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE_1_RND 
   (	KEY_NS NUMBER(*,0), 
	ADDRESS_LINE_1 VARCHAR2(141)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE_2_RND
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE_2_RND 
   (	KEY_NS NUMBER(*,0), 
	ADDRESS_LINE_2 VARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table ADDRESS_LINE_3_RND
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ADDRESS_LINE_3_RND 
   (	KEY_NS NUMBER(*,0), 
	ADDRESS_LINE_3 VARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table POSTCODE_LEFT_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	POSTCODE_LEFT VARCHAR2(35 CHAR), 
	POSTCODE_LEFT_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	POSTCODE_LEFT_MIN_KEY_NS NUMBER, 
	POSTCODE_LEFT_MAX_KEY_NS NUMBER, 
	POSTCODE_LEFT_SHUFFLE_KEY_NS NUMBER, 
	POSTCODE_LEFT_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	POSTCODE_LEFT_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table POSTCODE_LEFT_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE1 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	POSTCODE_LEFT VARCHAR2(35 CHAR), 
	POSTCODE_LEFT_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	POSTCODE_LEFT_MAX_KEY_NS NUMBER, 
	POSTCODE_LEFT_MIN_KEY_NS NUMBER, 
	POSTCODE_LEFT_SHUFFLE_HASH NUMBER, 
	POSTCODE_LEFT_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table POSTCODE_RIGHT_SHUFFLE
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	POSTCODE_RIGHT VARCHAR2(35 CHAR), 
	POSTCODE_RIGHT_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	POSTCODE_RIGHT_MIN_KEY_NS NUMBER, 
	POSTCODE_RIGHT_MAX_KEY_NS NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_KEY_NS NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_HASH NUMBER, 
	RESOLVED VARCHAR2(1), 
	POSTCODE_RIGHT_SHUFFLE VARCHAR2(70 CHAR)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table POSTCODE_RIGHT_SHUFFLE1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE1 
   (	HOLDER_ADDRESS_ID NUMBER(*,0), 
	COMP_CODE VARCHAR2(4), 
	IVC_CODE VARCHAR2(11), 
	POSTCODE_RIGHT VARCHAR2(35 CHAR), 
	POSTCODE_RIGHT_HASH NUMBER, 
	WORKING_COUNTRY_CODE VARCHAR2(2 CHAR), 
	KEY_NS NUMBER, 
	POSTCODE_RIGHT_MAX_KEY_NS NUMBER, 
	POSTCODE_RIGHT_MIN_KEY_NS NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_HASH NUMBER, 
	POSTCODE_RIGHT_SHUFFLE_KEY_NS NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table POSTCODE_RND
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..POSTCODE_RND 
   (	KEY_NS NUMBER(*,0), 
	POSTCODE_LEFT VARCHAR2(400), 
	POSTCODE_RIGHT VARCHAR2(400)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table POSTCODES
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..POSTCODES 
   (	Postcode VARCHAR2(100), 
	InUse VARCHAR2(100), 
	Latitude VARCHAR2(100), 
	Longitude VARCHAR2(100), 
	Easting VARCHAR2(100), 
	Northing VARCHAR2(100), 
	GridRef VARCHAR2(100), 
	County VARCHAR2(100), 
	District VARCHAR2(100), 
	Ward VARCHAR2(100), 
	DistrictCode VARCHAR2(100), 
	WardCode VARCHAR2(100), 
	Country VARCHAR2(100), 
	CountyCode VARCHAR2(100), 
	Constituency VARCHAR2(100), 
	Introduced VARCHAR2(100), 
	Terminated VARCHAR2(100), 
	Parish VARCHAR2(100), 
	National_Park VARCHAR2(100), 
	Population VARCHAR2(100), 
	Households VARCHAR2(100), 
	Built_up_area VARCHAR2(100), 
	Built_up_sub_division VARCHAR2(100), 
	Lowerlayer_super_output_area VARCHAR2(100), 
	Rural_urban VARCHAR2(100), 
	Region VARCHAR2(100), 
	Altitude VARCHAR2(100), 
	London_zone VARCHAR2(100), 
	LSOA_Code VARCHAR2(100), 
	Local_authority VARCHAR2(100), 
	MSOA_Code VARCHAR2(100), 
	Middle_layer_super_output_area VARCHAR2(100), 
	Parish_Code VARCHAR2(100), 
	Census_output_area VARCHAR2(100), 
	Constituency_Code VARCHAR2(100), 
	Index_of_Multiple_Deprivation VARCHAR2(100), 
	Quality VARCHAR2(100), 
	User_Type VARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table PRIVACY_CATALOG
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..PRIVACY_CATALOG 
   (	MAPPING_NOTE VARCHAR2(37), 
	PROP_ID VARCHAR2(4000), 
	CLASS_APPLIEDSTEREOTYPE VARCHAR2(4000), 
	PROPERTY_APPLIEDSTEREOTYPE VARCHAR2(4000), 
	PROPERTY_QUALIFIEDNAME VARCHAR2(4000), 
	PROPERTY_OWNER VARCHAR2(4000), 
	PROPERTY_NAME VARCHAR2(4000), 
	COMPONENT_NAME VARCHAR2(30), 
	COMPONENT_VERSION VARCHAR2(1), 
	OWNER VARCHAR2(30), 
	TABLE_NAME VARCHAR2(30), 
	COLUMN_NAME VARCHAR2(30), 
	COLUMN_MANDATORY VARCHAR2(1), 
	COLUMN_TYPE VARCHAR2(106), 
	COLUMN_LENGTH NUMBER, 
	COLUMN_DEFAULT VARCHAR2(10), 
	COLUMN_COMMENTS VARCHAR2(1), 
	PDM_LOOKUP VARCHAR2(62), 
	TRACE_RELEASE VARCHAR2(4000), 
	TABLE_MAPPING VARCHAR2(4000)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table QA_EXCEPTIONS
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..QA_EXCEPTIONS 
   (	TABLE_NAME VARCHAR2(30), 
	STAT_TYPE VARCHAR2(20), 
	COLUMN_NAME VARCHAR2(30), 
	TECHNIQUE VARCHAR2(50), 
	OWNER VARCHAR2(30), 
	VAL VARCHAR2(4000)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING;
 
--------------------------------------------------------
PROMPT Creating Table QA_RESULTS_PIVOT
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..QA_RESULTS_PIVOT 
   (	TABLE_NAME VARCHAR2(30), 
	COLUMN_NAME VARCHAR2(30), 
	ANON_VERSION VARCHAR2(20), 
	RUN_DTTM DATE, 
	AVG_SIM_DIST NUMBER, 
	TECHNIQUE VARCHAR2(50), 
	OWNER VARCHAR2(30), 
	STEREO_TYPE VARCHAR2(50),
    pc_stereo_type VARCHAR2(100),	
	EQ_UNIQUE VARCHAR2(4000), 
	PC_SCOPE_MISSING VARCHAR2(4000),
    Missing_From_PC  VARCHAR2(100),
    Stereo_Type_Mismatch  VARCHAR2(100)	
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
create index qrp_idx1 on &&OS_OWNER..qa_results_pivot(owner,table_name) TABLESPACE PRISM_INDEX; 
  
--------------------------------------------------------
PROMPT Creating Table QA_RESULTS_TMP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..QA_RESULTS_TMP 
   (	TABLE_NAME VARCHAR2(30), 
	STAT_TYPE VARCHAR2(20), 
	COLUMN_NAME VARCHAR2(30), 
	TECHNIQUE VARCHAR2(50), 
	OWNER VARCHAR2(30), 
	VAL VARCHAR2(4000), 
	STEREO_TYPE VARCHAR2(50),
	pc_stereo_type VARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
 create index qrt_idx1 on &&OS_OWNER..qa_results_tmp(owner,table_name) TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Table QA_STMTS
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..QA_STMTS 
   (	TABLE_NAME VARCHAR2(30), 
	STMT VARCHAR2(4000), 
	STAT_TYPE VARCHAR2(20), 
	COLUMN_NAME VARCHAR2(30), 
	TECHNIQUE VARCHAR2(50), 
	OWNER VARCHAR2(30), 
	STEREO_TYPE VARCHAR2(50)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
create index qa_idx1 on &&OS_OWNER..qa_stmts(owner,table_name) TABLESPACE PRISM_INDEX;

--------------------------------------------------------
PROMPT Creating Table PURGE_TRANSFORM
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..PURGE_TRANSFORM 
   (	OWNER VARCHAR2(30), 
	TABLE_NAME VARCHAR2(30), 
	ACTUAL_COL VARCHAR2(30), 
	TRANS_FUNCTION VARCHAR2(4000), 
	TECHNIQUE VARCHAR2(50), 
	STEREO_TYPE VARCHAR2(50)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table TABLE_POPULATED
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..TABLE_POPULATED 
   (	TABLE_NAME VARCHAR2(40), 
	COLUMN_NAME VARCHAR2(40), 
	POPULATED VARCHAR2(1), 
	PREV_POPULATED VARCHAR2(1), 
	NEW_COL VARCHAR2(1), 
	OWNER VARCHAR2(40), 
	MIG_VERSION VARCHAR2(20), 
	PREV_MIG_VERSION VARCHAR2(20),
  EXIST VARCHAR2(1) DEFAULT 'Y',
  DATA_TYPE VARCHAR2(4000)  
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  

--------------------------------------------------------
PROMPT Creating Table TABLE_POPULATED_TMP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..TABLE_POPULATED_TMP 
   (	TABLE_NAME VARCHAR2(40), 
	COLUMN_NAME VARCHAR2(40), 
	POPULATED VARCHAR2(1), 
	PREV_POPULATED VARCHAR2(1), 
	NEW_COL VARCHAR2(1), 
	OWNER VARCHAR2(40), 
	MIG_VERSION VARCHAR2(20), 
	PREV_MIG_VERSION VARCHAR2(20), 
	NOTES VARCHAR2(4000)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table WORD_LIST
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..WORD_LIST 
   (	KEY_NS NUMBER(*,0), 
	WORD VARCHAR2(25)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table STATS_RESULTS_PIVOT1
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..STATS_RESULTS_PIVOT1 
   (	TABLE_NAME VARCHAR2(30), 
	COLUMN_NAME VARCHAR2(30), 
	TECHNIQUE VARCHAR2(50), 
	OWNER VARCHAR2(30), 
	TRANS_FUNCTION VARCHAR2(4000), 
	STEREO_TYPE VARCHAR2(50), 
	TOTAL_NULLS_SRC NUMBER, 
	TOTAL_NULLS_TGT NUMBER, 
	TOTAL_RECS_SRC NUMBER, 
	TOTAL_RECS_TGT NUMBER, 
	EQUALS NUMBER, 
	NOT_EQUALS NUMBER, 
	AVG_SIM_DIST NUMBER, 
	VALUE_FROM_NULL NUMBER, 
	VALUE_TO_NULL NUMBER, 
	ANON_VERSION VARCHAR2(50), 
	RUN_DTTM DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
 create index srt1_idx1 on &&OS_OWNER..stats_results_pivot1(owner,table_name) TABLESPACE PRISM_INDEX; 
  
  
 CREATE TABLE &&OS_OWNER..stats_results_1 
   ( OWNER VARCHAR2(30), 
     TABLE_NAME VARCHAR2(30),  
	 COLUMN_NAME VARCHAR2(30), 
	 TECHNIQUE VARCHAR2(50), 
	 TRANS_FUNCTION VARCHAR2(4000), 
	 STEREO_TYPE VARCHAR2(50),
     not_equals       NUMBER(12,0), 
     equals           NUMBER(12,0), 
     value_to_null    NUMBER(12,0), 
     value_from_null  NUMBER(12,0), 
     avg_sim_dist     NUMBER(8,2), 
     total_recs_src   NUMBER(12,0), 
     total_recs_tgt   NUMBER(12,0), 
     total_nulls_src  NUMBER(12,0),
     total_nulls_tgt  NUMBER(12,0),
	 ANON_VERSION      VARCHAR2(50), 
	 RUN_DTTM          DATE	 
   );
  
create index sr1_idx1 on &&OS_OWNER..stats_results_1(owner,table_name) TABLESPACE PRISM_INDEX;   
  
--------------------------------------------------------
PROMPT Creating Table STATS_RESULTS_PIVOT2
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..STATS_RESULTS_PIVOT2 
   (	TABLE_NAME VARCHAR2(30), 
	COLUMN_NAME VARCHAR2(30), 
	TECHNIQUE VARCHAR2(50), 
	OWNER VARCHAR2(30), 
	TRANS_FUNCTION VARCHAR2(4000), 
	STEREO_TYPE VARCHAR2(50), 
	TOTAL_NULLS_SRC NUMBER, 
	TOTAL_NULLS_TGT NUMBER, 
	TOTAL_RECS_SRC NUMBER, 
	TOTAL_RECS_TGT NUMBER, 
	EQUALS NUMBER, 
	NOT_EQUALS NUMBER, 
	AVG_SIM_DIST NUMBER, 
	VALUE_FROM_NULL NUMBER, 
	VALUE_TO_NULL NUMBER, 
	ANON_VERSION VARCHAR2(50), 
	RUN_DTTM DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
create index srt2_idx1 on &&OS_OWNER..stats_results_pivot2(owner,table_name) TABLESPACE PRISM_INDEX;

  
 CREATE TABLE &&OS_OWNER..stats_results_2 
   ( OWNER VARCHAR2(30), 
     TABLE_NAME VARCHAR2(30),  
	 COLUMN_NAME VARCHAR2(30), 
	 TECHNIQUE VARCHAR2(50), 
	 TRANS_FUNCTION VARCHAR2(4000), 
	 STEREO_TYPE VARCHAR2(50),
     not_equals       NUMBER(12,0), 
     equals           NUMBER(12,0), 
     value_to_null    NUMBER(12,0), 
     value_from_null  NUMBER(12,0), 
     avg_sim_dist     NUMBER(8,2), 
     total_recs_src   NUMBER(12,0), 
     total_recs_tgt   NUMBER(12,0), 
     total_nulls_src  NUMBER(12,0),
     total_nulls_tgt  NUMBER(12,0),
	 ANON_VERSION      VARCHAR2(50), 
	 RUN_DTTM          DATE	 
   );
  
create index sr2_idx1 on &&OS_OWNER..stats_results_2(owner,table_name) TABLESPACE PRISM_INDEX;  

--------------------------------------------------------
PROMPT Creating Table STATS_RESULTS_TMP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..STATS_RESULTS_TMP 
   (	TABLE_NAME VARCHAR2(30), 
	STAT_TYPE VARCHAR2(20), 
	VAL NUMBER, 
	COLUMN_NAME VARCHAR2(30), 
	TECHNIQUE VARCHAR2(50), 
	OWNER VARCHAR2(30), 
	TRANS_FUNCTION VARCHAR2(4000), 
	STEREO_TYPE VARCHAR2(50)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
create index srt_idx1 on &&OS_OWNER..stats_results_tmp(owner,table_name) TABLESPACE PRISM_INDEX;     
  
--------------------------------------------------------
PROMPT Creating Table RND_ADESD_ADRESSS_LU
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_ADESD_ADRESSS_LU 
   (	DISCRET_EXERCISE_REQ_ID NUMBER, 
	ADDRESS_LINE1_KEY NUMBER, 
	ADDRESS_LINE2_KEY NUMBER, 
	ADDRESS_LINE3_KEY NUMBER, 
	POST_CODE_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_ADESD_NAME_LOOKUP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_ADESD_NAME_LOOKUP 
   (	DISCRET_EXERCISE_REQ_ID NUMBER, 
	SURNAME_KEY NUMBER, 
	FORENAME_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_CPM_ADRESSS_LU
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_CPM_ADRESSS_LU 
   (	COMP_PAYEE_ID NUMBER, 
	ADDRESS_LINE1_KEY NUMBER, 
	ADDRESS_LINE2_KEY NUMBER, 
	ADDRESS_LINE3_KEY NUMBER, 
	POST_CODE_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_DERM_ADRESSS_LU
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_DERM_ADRESSS_LU 
   (	DISC_EXER_REQ_MANDATE_ID NUMBER, 
	ADDRESS_LINE1_KEY NUMBER, 
	ADDRESS_LINE2_KEY NUMBER, 
	ADDRESS_LINE3_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);

--------------------------------------------------------
PROMPT Creating Table RND_DISP_MANDATE_ADRESSS_LU
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_DISP_MANDATE_ADRESSS_LU 
   (	HOLDER_MANDATE_ID NUMBER, 
	ADDRESS_LINE1_KEY NUMBER, 
	ADDRESS_LINE2_KEY NUMBER, 
	ADDRESS_LINE3_KEY NUMBER, 
	POST_CODE_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_DISP_PAYMENT_ADRESSS_LU
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_DISP_PAYMENT_ADRESSS_LU 
   (	PAYMENT_ID NUMBER, 
	ADDRESS_LINE1_KEY NUMBER, 
	ADDRESS_LINE2_KEY NUMBER, 
	ADDRESS_LINE3_KEY NUMBER, 
	POST_CODE_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_DISPATCH_NAME_LOOKUP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_DISPATCH_NAME_LOOKUP 
   (	PAYMENT_ID NUMBER, 
	SURNAME_KEY NUMBER, 
	FORENAME_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_ME_NAME_LOOKUP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_ME_NAME_LOOKUP 
   (	MIFID_ENTITY_ID NUMBER, 
	SURNAME_KEY NUMBER, 
	FORENAME_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_MI_NAME_LOOKUP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_MI_NAME_LOOKUP 
   (	TRANSACTION_DETAIL_ID NUMBER, 
	BULK_TRADE_ID NUMBER, 
	SURNAME_KEY NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table RND_NAME_LOOKUP
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..RND_NAME_LOOKUP 
   (	PAYMENT_ID NUMBER, 
	SURNAME_KEY NUMBER, 
	FORENAME_KEY NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING;
 
--------------------------------------------------------
PROMPT Creating Table CR_SHIFT
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..CR_SHIFT 
   (	BANK_ACCOUNT_ID NUMBER(*,0), 
	SHIFT_NO NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);
  
--------------------------------------------------------
PROMPT Creating Table MANUAL_TRANSFORM
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..MANUAL_TRANSFORM 
   (	OWNER VARCHAR2(30), 
	TABLE_NAME VARCHAR2(30), 
	ACTUAL_COL VARCHAR2(30), 
	TRANS_FUNCTION VARCHAR2(4000), 
	TECHNIQUE VARCHAR2(50)
   );
  
--------------------------------------------------------
PROMPT Creating Table OBFUSCATION_LOG
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..OBFUSCATION_LOG 
   (	LOG_ID NUMBER, 
	LOG_MSG VARCHAR2(4000), 
	SRC_PREFIX VARCHAR2(20), 
	ANON_VERSION VARCHAR2(12), 
	TGT_PREFIX VARCHAR2(20), 
	RUN_DATE DATE, 
	MOD_TIMESTAMP TIMESTAMP (6) WITH LOCAL TIME ZONE, 
	ERR_CODE NUMBER, 
	ERRM VARCHAR2(4000), 
	MODULE VARCHAR2(4000),
	stage_step_code VARCHAR2(10)
   );
 
 
ALTER TABLE &&OS_OWNER..OBFUSCATION_LOG add constraint pk_OBFUSCATION_LOG primary key(LOG_ID); 
 
--------------------------------------------------------
PROMPT Creating Table PC_OBFUSCATN_RULES
-------------------------------------------------------- 

  CREATE TABLE &&OS_OWNER..PC_OBFUSCATN_RULES 
   (	STEREO_TYPE VARCHAR2(50), 
	TECHNIQUE VARCHAR2(50), 
	TRANS_FUNCTION VARCHAR2(50), 
	EXECUTION_PRIOR NUMBER
   );  
  
--------------------------------------------------------
PROMPT Creating Table PC_TRANSFORM
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..PC_TRANSFORM 
   (	OWNER VARCHAR2(30), 
	TABLE_NAME VARCHAR2(30), 
	COLUMN_NAME VARCHAR2(30), 
	TRANS_FUNCTION VARCHAR2(4000), 
	EXECUTION_PRIOR VARCHAR2(4000), 
	TECHNIQUE VARCHAR2(4000), 
	CHAR_LENGTH VARCHAR2(4000), 
	DATA_TYPE VARCHAR2(4000), 
	NO_TRANS_FUNCS NUMBER, 
	NO_DISTINCT_TRANS_FUNCS NUMBER, 
	STEREO_TYPE VARCHAR2(4000),
    manual_only varchar2(1) default 'N' not null 	
   );
  
alter table &&OS_OWNER..pc_transform add constraint pk_pc_Transform primary key (owner,table_name,column_name);
  
--------------------------------------------------------
PROMPT Creating Table PC_TRANSFORM_2
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..PC_TRANSFORM_2 
   (	OWNER VARCHAR2(30), 
	TABLE_NAME VARCHAR2(30), 
	COLUMN_NAME VARCHAR2(30), 
	TRANS_FUNCTION VARCHAR2(4000), 
	EXECUTION_PRIOR VARCHAR2(4000), 
	TECHNIQUE VARCHAR2(4000), 
	CHAR_LENGTH VARCHAR2(4000), 
	DATA_TYPE VARCHAR2(4000), 
	NO_TRANS_FUNCS NUMBER, 
	NO_DISTINCT_TRANS_FUNCS NUMBER, 
	STEREO_TYPE VARCHAR2(4000),
    manual_only  varchar2(1) default 'N' not null
   );
 
--------------------------------------------------------
PROMPT Creating Table PSEUDO_CONS_COLUMNS
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..PSEUDO_CONS_COLUMNS (          
    OWNER       VARCHAR2(128), 
    TABLE_NAME  VARCHAR2(128), 
    COLUMN_NAME VARCHAR2(128));

alter table &&OS_OWNER..PSEUDO_CONS_COLUMNS add constraint pk_PSEUDO_CONS_COLUMNS primary key (owner,table_name,column_name);

--------------------------------------------------------
PROMPT Creating Table PC_STMTS
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..PC_STMTS 
   (	AORDER NUMBER, 
	STMT VARCHAR2(4000)
   );
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_SHUFFLE_IDX2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_SHUFFLE_IDX2 ON ADDRESS_LINE1_SHUFFLE (HOLDER_ADDRESS_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_SHUFFLE_IDX1 ON ADDRESS_LINE1_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_HASH1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_HASH1 ON ADDRESS_LINE1_SHUFFLE (ADDRESS_LINE1_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_MAX_KEY_NS2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_MAX_KEY_NS2 ON ADDRESS_LINE1_SHUFFLE (ADDRESS_LINE1_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_MIN_KEY_NS3
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_MIN_KEY_NS3 ON ADDRESS_LINE1_SHUFFLE (ADDRESS_LINE1_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_SHUFFLE_HASH4
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_SHUFFLE_HASH4 ON ADDRESS_LINE1_SHUFFLE (ADDRESS_LINE1_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_SHUFFLE_KEY_NS5
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_SHUFFLE_KEY_NS5 ON ADDRESS_LINE1_SHUFFLE (ADDRESS_LINE1_SHUFFLE_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE1_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE1_SHUFFLE1_IDX1 ON ADDRESS_LINE1_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_SHUFFLE_IDX2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_SHUFFLE_IDX2 ON ADDRESS_LINE2_SHUFFLE (HOLDER_ADDRESS_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_SHUFFLE_IDX1 ON ADDRESS_LINE2_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_HASH1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_HASH1 ON ADDRESS_LINE2_SHUFFLE (ADDRESS_LINE2_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_MAX_KEY_NS2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_MAX_KEY_NS2 ON ADDRESS_LINE2_SHUFFLE (ADDRESS_LINE2_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_MIN_KEY_NS3
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_MIN_KEY_NS3 ON ADDRESS_LINE2_SHUFFLE (ADDRESS_LINE2_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_SHUFFLE_HASH4
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_SHUFFLE_HASH4 ON ADDRESS_LINE2_SHUFFLE (ADDRESS_LINE2_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_SHUFFLE_KEY_NS5
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_SHUFFLE_KEY_NS5 ON ADDRESS_LINE2_SHUFFLE (ADDRESS_LINE2_SHUFFLE_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE2_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE2_SHUFFLE1_IDX1 ON ADDRESS_LINE2_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_MAX_KEY_NS2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_MAX_KEY_NS2 ON ADDRESS_LINE3_SHUFFLE (ADDRESS_LINE3_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_MIN_KEY_NS3
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_MIN_KEY_NS3 ON ADDRESS_LINE3_SHUFFLE (ADDRESS_LINE3_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_SHUFFLE_HASH4
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_SHUFFLE_HASH4 ON ADDRESS_LINE3_SHUFFLE (ADDRESS_LINE3_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_SHUFFLE_KEY_NS5
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_SHUFFLE_KEY_NS5 ON ADDRESS_LINE3_SHUFFLE (ADDRESS_LINE3_SHUFFLE_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_SHUFFLE_IDX2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_SHUFFLE_IDX2 ON ADDRESS_LINE3_SHUFFLE (HOLDER_ADDRESS_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_SHUFFLE_IDX1 ON ADDRESS_LINE3_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_HASH1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_HASH1 ON ADDRESS_LINE3_SHUFFLE (ADDRESS_LINE3_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE3_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE3_SHUFFLE1_IDX1 ON ADDRESS_LINE3_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE456_HASH1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE456_HASH1 ON ADDRESS_LINE456_SHUFFLE (ADDRESS_LINE456_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE456_MAX_KEY_NS2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE456_MAX_KEY_NS2 ON ADDRESS_LINE456_SHUFFLE (ADDRESS_LINE456_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE456_MIN_KEY_NS3
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE456_MIN_KEY_NS3 ON ADDRESS_LINE456_SHUFFLE (ADDRESS_LINE456_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE456_SHUFFLE_HASH4
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE456_SHUFFLE_HASH4 ON ADDRESS_LINE456_SHUFFLE (ADDRESS_LINE456_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE456_SHUFFLE_IDX2
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE456_SHUFFLE_IDX2 ON ADDRESS_LINE456_SHUFFLE (HOLDER_ADDRESS_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE456_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE456_SHUFFLE_IDX1 ON ADDRESS_LINE456_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index ADDRESS_LINE456_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX ADDRESS_LINE456_SHUFFLE1_IDX1 ON ADDRESS_LINE456_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index IDX_ADDRESS_LINE_1_RND1
--------------------------------------------------------

  CREATE INDEX IDX_ADDRESS_LINE_1_RND1 ON ADDRESS_LINE_1_RND (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index IDX_ADDRESS_LINE_2_RND1
--------------------------------------------------------

  CREATE INDEX IDX_ADDRESS_LINE_2_RND1 ON ADDRESS_LINE_2_RND (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index IDX_ADDRESS_LINE_3_RND1
--------------------------------------------------------

  CREATE INDEX IDX_ADDRESS_LINE_3_RND1 ON ADDRESS_LINE_3_RND (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_HASH2
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_HASH2 ON POSTCODE_LEFT_SHUFFLE (POSTCODE_LEFT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_MAX_KEY_NS3
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_MAX_KEY_NS3 ON POSTCODE_LEFT_SHUFFLE (POSTCODE_LEFT_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_MIN_KEY_NS4
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_MIN_KEY_NS4 ON POSTCODE_LEFT_SHUFFLE (POSTCODE_LEFT_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
  
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_SHUFFLE_HASH5
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_SHUFFLE_HASH5 ON POSTCODE_LEFT_SHUFFLE (POSTCODE_LEFT_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_SHUFFLE_KEY_NS6
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_SHUFFLE_KEY_NS6 ON POSTCODE_LEFT_SHUFFLE (POSTCODE_LEFT_SHUFFLE_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_SHUFFLE_IDX1 ON POSTCODE_LEFT_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_SHUFFLE_IDX2
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_SHUFFLE_IDX2 ON POSTCODE_LEFT_SHUFFLE (HOLDER_ADDRESS_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_LEFT_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX POSTCODE_LEFT_SHUFFLE1_IDX1 ON POSTCODE_LEFT_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_HASH2
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_HASH2 ON POSTCODE_RIGHT_SHUFFLE (POSTCODE_RIGHT_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_MAX_KEY_NS3
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_MAX_KEY_NS3 ON POSTCODE_RIGHT_SHUFFLE (POSTCODE_RIGHT_MAX_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_MIN_KEY_NS4
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_MIN_KEY_NS4 ON &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE (POSTCODE_RIGHT_MIN_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_SHUFFLE_HASH5
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_SHUFFLE_HASH5 ON &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE (POSTCODE_RIGHT_SHUFFLE_HASH) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_SHUFFLE_KEY_NS6
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_SHUFFLE_KEY_NS6 ON &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE (POSTCODE_RIGHT_SHUFFLE_KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_SHUFFLE_IDX1
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_SHUFFLE_IDX1 ON &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_SHUFFLE_IDX2
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_SHUFFLE_IDX2 ON &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE (HOLDER_ADDRESS_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index POSTCODE_RIGHT_SHUFFLE1_IDX1
--------------------------------------------------------

  CREATE INDEX POSTCODE_RIGHT_SHUFFLE1_IDX1 ON &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE1 (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index IDX_POSTCODE_RND
--------------------------------------------------------

  CREATE INDEX IDX_POSTCODE_RND ON &&OS_OWNER..POSTCODE_RND (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index TABLE_POPULATED_IDX
--------------------------------------------------------

  CREATE INDEX TABLE_POPULATED_IDX ON &&OS_OWNER..TABLE_POPULATED (TABLE_NAME, COLUMN_NAME) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index WORD_LIST1
--------------------------------------------------------

  CREATE INDEX WORD_LIST1 ON &&OS_OWNER..WORD_LIST (KEY_NS) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_ADESD_ADRESSS_LU_IDX1
--------------------------------------------------------

  CREATE INDEX RND_ADESD_ADRESSS_LU_IDX1 ON &&OS_OWNER..RND_ADESD_ADRESSS_LU (DISCRET_EXERCISE_REQ_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_ADESD_NAME_IDX1
--------------------------------------------------------

  CREATE INDEX RND_ADESD_NAME_IDX1 ON &&OS_OWNER..RND_ADESD_NAME_LOOKUP (DISCRET_EXERCISE_REQ_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_CPM_ADRESSS_LU_IDX1
--------------------------------------------------------

  CREATE INDEX RND_CPM_ADRESSS_LU_IDX1 ON &&OS_OWNER..RND_CPM_ADRESSS_LU (COMP_PAYEE_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_DERM_ADRESSS_LU_IDX1
--------------------------------------------------------

  CREATE INDEX RND_DERM_ADRESSS_LU_IDX1 ON &&OS_OWNER..RND_DERM_ADRESSS_LU (DISC_EXER_REQ_MANDATE_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_DISP_PAY_ADRR_LU_IDX1
--------------------------------------------------------

  CREATE INDEX RND_DISP_PAY_ADRR_LU_IDX1 ON &&OS_OWNER..RND_DISP_PAYMENT_ADRESSS_LU (PAYMENT_ID, ADDRESS_LINE1_KEY, ADDRESS_LINE2_KEY, ADDRESS_LINE3_KEY, POST_CODE_KEY) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_DISPATCH_NAME_IDX1
--------------------------------------------------------

  CREATE INDEX RND_DISPATCH_NAME_IDX1 ON &&OS_OWNER..RND_DISPATCH_NAME_LOOKUP (PAYMENT_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_ME_NAME_IDX1
--------------------------------------------------------

  CREATE INDEX RND_ME_NAME_IDX1 ON &&OS_OWNER..RND_ME_NAME_LOOKUP (MIFID_ENTITY_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_MI_NAME_IDX1
--------------------------------------------------------

  CREATE INDEX RND_MI_NAME_IDX1 ON &&OS_OWNER..RND_MI_NAME_LOOKUP (TRANSACTION_DETAIL_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RND_MI_NAME_IDX2
--------------------------------------------------------

  CREATE INDEX RND_MI_NAME_IDX2 ON &&OS_OWNER..RND_MI_NAME_LOOKUP (BULK_TRADE_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Index RNL_IDX1
--------------------------------------------------------

  CREATE INDEX RNL_IDX1 ON &&OS_OWNER..RND_NAME_LOOKUP (PAYMENT_ID) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE PRISM_INDEX;
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE1_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE1_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE1 MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE1_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE2_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE2_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE1 MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE2_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE3_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE3_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE1 MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE3_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE456_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table ADDRESS_LINE456_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE1 MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..ADDRESS_LINE456_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table POSTCODE_LEFT_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table POSTCODE_LEFT_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE1 MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_LEFT_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table POSTCODE_RIGHT_SHUFFLE
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table POSTCODE_RIGHT_SHUFFLE1
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE1 MODIFY (HOLDER_ADDRESS_ID NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE1 MODIFY (COMP_CODE NOT NULL ENABLE);
  ALTER TABLE &&OS_OWNER..POSTCODE_RIGHT_SHUFFLE1 MODIFY (IVC_CODE NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table WORD_LIST
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..WORD_LIST MODIFY (WORD NOT NULL ENABLE);
--------------------------------------------------------
PROMPT Creating Constraints for Table CR_SHIFT
--------------------------------------------------------

  ALTER TABLE &&OS_OWNER..CR_SHIFT MODIFY (BANK_ACCOUNT_ID NOT NULL ENABLE);
  
--------------------------------------------------------
PROMPT Creating table obfus_control  
--------------------------------------------------------  

  CREATE TABLE &&OS_OWNER..obfus_control ( 
  obfus_run_id             NUMBER        NOT NULL,
  src_prefix               VARCHAR2(30)  NOT NULL,
  tgt_prefix               VARCHAR2(30)  NOT NULL,
  run_env                  VARCHAR2(30)  NOT NULL,  
  anon_version             VARCHAR2(12)  NOT NULL,
  obfus_status             VARCHAR2(10)  NOT NULL,
  setup_triggers           VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  setup_synonyms           VARCHAR2(1)   DEFAULT 'N' NOT NULL, 
  setup_indexes            VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  setup_cheque_ranges      VARCHAR2(1)   DEFAULT 'N' NOT NULL, 
  setup_stats              VARCHAR2(1)   DEFAULT 'N' NOT NULL,    
  checked                  VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  peripheral_tables        VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  auto_stages_loaded       VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  manual_stages_loaded     VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  per_stages_loaded        VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  stats_stmts_loaded       VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  pc_transform_loaded      VARCHAR2(1)   DEFAULT 'N' NOT NULL, 
  ENVIRON_STAGES_LOADED    VARCHAR2(1)   DEFAULT 'N' NOT NULL,  
  rnd_data_generated       VARCHAR2(1)   DEFAULT 'N' NOT NULL,
  run_start_time           DATE,
  run_completed_date       DATE,
  created_time             DATE          NOT NULL,
  updated_time             DATE          NOT NULL,
  final_stages_loaded      VARCHAR2(1)   DEFAULT 'N' NOT NULL ,
  dd_loaded                VARCHAR2(1)   DEFAULT 'N' NOT NULL   
);

ALTER TABLE &&OS_OWNER..obfus_control add constraint pk_obfus_control primary key(obfus_run_id);
CREATE UNIQUE INDEX &&OS_OWNER..obfus_control_I1 ON &&OS_OWNER..obfus_control (src_prefix,tgt_prefix,run_env);
ALTER TABLE &&OS_OWNER..obfus_control ADD CONSTRAINT chk_obfus_status 
CHECK (obfus_status IN ( 'PENDING', 'RUNNING', 'FAILED', 'COMPLETED','TERMINATED','ON','OFF','PAUSED')); 

--------------------------------------------------------
PROMPT Creating table obfus_ctrl_stmts  
--------------------------------------------------------  

CREATE TABLE &&OS_OWNER..obfus_ctrl_stmts (
   obfus_run_id        NUMBER        NOT NULL,
   stage_step_code     VARCHAR2(10)  NOT NULL,
   dependent_ss_code   VARCHAR2(10), 
   step_type           VARCHAR2(1)   NOT NULL,
   stmt_seq            NUMBER        NOT NULL, 
   OWNER               VARCHAR2(128), 
   TABLE_NAME          VARCHAR2(128),    
   stmt                VARCHAR2(4000),
   stmt_overflow       VARCHAR2(4000),
   stmt_overflow2      VARCHAR2(4000),
   stmt_overflow3      VARCHAR2(4000),
   stmt_overflow4      varchar2(4000),
   stmt_overflow5      varchar2(4000),
   stmt_overflow6      varchar2(4000),
   stmt_overflow7      varchar2(4000)  
);

ALTER TABLE &&OS_OWNER..obfus_ctrl_stmts add constraint pk_obfus_ctrl_stmts primary key(obfus_run_id,stage_step_code,stmt_seq);
ALTER TABLE &&OS_OWNER..obfus_ctrl_stmts add constraint fk_ocs_run_id foreign key(obfus_run_id) references obfus_control(obfus_run_id);
ALTER TABLE &&OS_OWNER..obfus_ctrl_stmts ADD CONSTRAINT chk_step_type CHECK (step_type IN ( 'S', 'P', 'D', 'J')); 
/* S=sql/DML,P=procedure, D=DDL, J=JOB */ 

--------------------------------------------------------
PROMPT Creating table obfus_control_exec_result  
--------------------------------------------------------  

  CREATE TABLE &&OS_OWNER..obfus_control_exec_result ( 
  obfus_run_id        NUMBER        NOT NULL,
  stage_step_code     VARCHAR2(10)   NOT NULL,
  stmt_seq            NUMBER        NOT NULL,   
  execution_id        NUMBER        NOT NULL,
  start_timestamp     TIMESTAMP,  
  end_timestamp       TIMESTAMP,  
  duration_seconds    NUMBER(38,3) GENERATED ALWAYS AS ( EXTRACT(DAY FROM(end_timestamp-start_timestamp))*24*60*60
                                                       + EXTRACT(HOUR FROM(end_timestamp-start_timestamp))*60*60
                                                       + EXTRACT(MINUTE FROM(end_timestamp-start_timestamp))*60
                                                       + EXTRACT(SECOND FROM(end_timestamp-start_timestamp))),
  status              VARCHAR2(10),
  obfus_log_id        NUMBER
);

ALTER TABLE &&OS_OWNER..obfus_control_exec_result add constraint pk_obfus_control_exec_result primary key(obfus_run_id,stage_step_code,stmt_seq,execution_id);
ALTER TABLE &&OS_OWNER..obfus_control_exec_result add constraint fk_obfus_control_stmts foreign key(obfus_run_id, stage_step_code,stmt_seq) references obfus_ctrl_stmts(obfus_run_id,stage_step_code,stmt_seq);
ALTER TABLE &&OS_OWNER..obfus_control_exec_result add constraint fk_obfus_log_id foreign key(obfus_log_id) references obfuscation_log(log_id);
ALTER TABLE &&OS_OWNER..obfus_control_exec_result ADD CONSTRAINT chk_exec_status CHECK (status IN ('STARTED','FAILED','COMPLETED','DEP_INCOMP')); 

--------------------------------------------------------
PROMPT Creating table obfus_ctrl_manual_config  
--------------------------------------------------------  

CREATE TABLE &&OS_OWNER..obfus_ctrl_manual_config (   
  entity_order        NUMBER(3)       NOT NULL, 
  entity_group_id     NUMBER(3)       NOT NULL,
  entity_group_name   VARCHAR2(30)    NOT NULL,  
  owner               VARCHAR2(30),
  table_name          VARCHAR2(100),  
  step_type           VARCHAR2(1)     NOT NULL,  
  anon_proc           VARCHAR2(100),  
  merge_proc          VARCHAR2(100),
  enabled_yn          VARCHAR2(1)     NOT NULL
 );
 
ALTER TABLE &&OS_OWNER..obfus_ctrl_manual_config add constraint pk_obfus_ctrl_manual_config primary key(entity_order);
ALTER TABLE &&OS_OWNER..obfus_ctrl_manual_config ADD CONSTRAINT chk_manual_step_type CHECK (step_type IN ( 'S', 'P')); 
ALTER TABLE &&OS_OWNER..obfus_ctrl_manual_config ADD CONSTRAINT chk_manual_enabled_yn CHECK (enabled_yn IN ( 'Y', 'N')); 
/* S=sql,P=procedure*/

--------------------------------------------------------
PROMPT Creating table subsystem_onoff_switch  
--------------------------------------------------------  

--DROP TABLE &&OS_OWNER..subsystem_onoff_switch;

  CREATE TABLE &&OS_OWNER..subsystem_onoff_switch ( 
    subsystem     VARCHAR2(30)  NOT NULL,
    on_off        VARCHAR2(3)   DEFAULT 'ON' NOT NULL,
    description   VARCHAR2(200) NOT NULL,
    CONSTRAINT subsystem_onoff_switch_pk PRIMARY KEY (subsystem)
 );

ALTER TABLE &&OS_OWNER..subsystem_onoff_switch ADD CONSTRAINT chk_subsystem CHECK (subsystem IN ( 'OBFUSCATION', 'SUBSETTING')); 
ALTER TABLE &&OS_OWNER..subsystem_onoff_switch ADD CONSTRAINT chk_onoff_switch CHECK (on_off IN ( 'ON', 'OFF')); 

INSERT INTO &&OS_OWNER..subsystem_onoff_switch (subsystem,on_off,description) VALUES ('OBFUSCATION','ON','OFF disables obfuscation and if obfuscation is switched OFF while running then obfuscation is TERMINATED at completion of current stage. ON allows obfuscation as normal.');
INSERT INTO &&OS_OWNER..subsystem_onoff_switch (subsystem,on_off,description) VALUES ('SUBSETTING','ON','OFF disables subsetting and if subsetting is switched OFF while running then subsetting is TERMINATED at completion of current stage. ON allows subsetting as normal.');

commit;

--------------------------------------------------------
PROMPT Creating table PERIPHERAL_TABLES
--------------------------------------------------------  
CREATE TABLE &&OS_OWNER..PERIPHERAL_TABLES (	
  OWNER               VARCHAR2(128), 
  TABLE_NAME          VARCHAR2(128), 
  SINGLE_COLUMN       VARCHAR2(128), 
  NUM_ROWS            NUMBER,
  TABLE_TYPE          VARCHAR2(1), 
  RELATED_OWNER       VARCHAR2(128), 
  RELATED_TABLE_NAME  VARCHAR2(128), 
  LOAD_MECHANISM      VARCHAR2(1), 
  NUM_MASKED_COLS     NUMBER,
  USE_FAST_MASK       VARCHAR2(1),
  CONSTRAINT PERIPHERAL_TABLE_PK PRIMARY KEY (OWNER, TABLE_NAME),
  CONSTRAINT CHECK_TABLE_TYPES    CHECK (table_type IN ('A', 'H', 'O')) ENABLE, 
  CONSTRAINT CHECK_TABLE_TYPE     CHECK (TABLE_TYPE IN ('H', 'A', 'O')) ENABLE, 
  CONSTRAINT CHECK_LOAD_MECHANISM CHECK (LOAD_MECHANISM IN ('M', 'A', 'D')) ENABLE,
  CONSTRAINT CHECK_USE_FAST_MASK  CHECK (USE_FAST_MASK IN ('Y', 'N' )) ENABLE 
);

--------------------------------------------------------
PROMPT Creating table PERIPHERAL_TABLES_LOAD
--------------------------------------------------------  
CREATE TABLE &&OS_OWNER..PERIPHERAL_TABLES_LOAD  (        
  OWNER               VARCHAR2(128), 
  TABLE_NAME          VARCHAR2(128), 
  --SINGLE_COLUMN       VARCHAR2(128), 
  TABLE_TYPE          VARCHAR2(1), 
  RELATED_OWNER       VARCHAR2(128), 
  RELATED_TABLE_NAME  VARCHAR2(128),
  CONSTRAINT PERIPHERAL_TABLE_MAN_LOAD_PK PRIMARY KEY (OWNER, TABLE_NAME),
  CONSTRAINT CHECK_TABLE_TYPES1 CHECK (table_type IN ('A', 'H', 'O')) ENABLE
);

--------------------------------------------------------
PROMPT Creating table PER_COL_MASK_OVERIDE
--------------------------------------------------------
CREATE TABLE &&OS_OWNER..PER_COL_MASK_OVERIDE (
  OWNER         VARCHAR2(128), 
  TABLE_NAME    VARCHAR2(128), 
  COLUMN_NAME   VARCHAR2(128), 
  TABLE_TYPE    VARCHAR2(1)
);

ALTER TABLE &&OS_OWNER..PER_COL_MASK_OVERIDE
ADD CONSTRAINT fk_pcmo_pt
FOREIGN KEY (OWNER,table_name)
REFERENCES &&OS_OWNER..peripheral_tables(OWNER,TABLE_NAME) ENABLE;
  
ALTER TABLE &&OS_OWNER..per_col_mask_overide ADD CONSTRAINT pk_per_col_mask_overide PRIMARY KEY (owner,table_name,column_name);   

--------------------------------------------------------
PROMPT Creating table PER_COL_MASK_OVERIDE_LOAD
--------------------------------------------------------
CREATE TABLE &&OS_OWNER..PER_COL_MASK_OVERIDE_LOAD (      
  OWNER         VARCHAR2(128), 
  TABLE_NAME    VARCHAR2(128), 
  COLUMN_NAME   VARCHAR2(128), 
  TABLE_TYPE    VARCHAR2(1) ,  
  CONSTRAINT PER_COL_MASK_OVERIDE_LOAD_PK PRIMARY KEY (OWNER, TABLE_NAME, COLUMN_NAME),    
  CONSTRAINT CHECK_TABLE_TYPES2 CHECK (table_type IN ('A', 'H', 'O')) ENABLE
 );     
   
--------------------------------------------------------
PROMPT Creating table suppress_fast_mask
--------------------------------------------------------
CREATE TABLE &&OS_OWNER..suppress_fast_mask ( 
  owner      varchar2(128),
  table_name varchar2(128)
);

insert into suppress_fast_mask(owner,table_name)
values ('PRISM_CORE','FR2007_AEOI_HOLDERS_TMP');
commit;    
   
--------------------------------------------------------
PROMPT Creating table PER_TRANS_COLS
--------------------------------------------------------   
CREATE TABLE &&OS_OWNER..PER_TRANS_COLS (
  OBFUS_RUN_ID  NUMBER, 
  OWNER         VARCHAR2(30), 
  TABLE_NAME    VARCHAR2(30), 
  COLUMN_NAME   VARCHAR2(30), 
  TRANS_FUNC    VARCHAR2(60), 
  TRANSFORM     VARCHAR2(10), 
  COLUMN_ID     	NUMBER,
  DATA_TYPE         VARCHAR2(128),
  DATA_LENGTH   	NUMBER,         
  DATA_PRECISION    NUMBER,        
  DATA_SCALE        NUMBER,        
  NULLABLE          VARCHAR2(1),                 
  DATA_DEFAULT      VARCHAR2(4000),                
  CHAR_LENGTH       NUMBER
);
   
ALTER TABLE &&OS_OWNER..PER_TRANS_COLS 
ADD CONSTRAINT fk_ptc_oc 
FOREIGN KEY (obfus_run_id) 
REFERENCES &&OS_OWNER..obfus_control(obfus_run_id) ENABLE;

ALTER TABLE &&OS_OWNER..PER_TRANS_COLS ADD CONSTRAINT pk_PER_TRANS_COLS PRIMARY KEY (obfus_run_id,owner,table_name,column_name);   

--------------------------------------------------------
PROMPT Creating table PER_TRANS_COL_IND
--------------------------------------------------------  
CREATE TABLE &&OS_OWNER..PER_TRANS_COL_IND (
  OBFUS_RUN_ID  NUMBER,	
  OWNER         VARCHAR2(30), 
  TABLE_NAME    VARCHAR2(30), 
  COLUMN_NAME   VARCHAR2(30), 
  INDEX_OWNER   VARCHAR2(128), 
  INDEX_NAME    VARCHAR2(128), 
  INDEX_DDL     VARCHAR2(4000)
);

ALTER TABLE &&OS_OWNER..PER_TRANS_COL_IND
ADD CONSTRAINT pk_PER_TRANS_COL_IND PRIMARY KEY (obfus_run_id,INDEX_OWNER,INDEX_NAME);   

ALTER TABLE &&OS_OWNER..PER_TRANS_COL_IND 
ADD CONSTRAINT fk_ptci_ptc
FOREIGN KEY (obfus_run_id,owner,table_name,column_name) 
REFERENCES &&OS_OWNER..PER_TRANS_COLS(obfus_run_id,owner,table_name,column_name) ENABLE;

--------------------------------------------------------
PROMPT Creating table PER_TRANS_COL_CON
--------------------------------------------------------  	
CREATE TABLE &&OS_OWNER..PER_TRANS_COL_CON (	
  OBFUS_RUN_ID      NUMBER,
  OWNER             VARCHAR2(30), 
  TABLE_NAME        VARCHAR2(30), 
  COLUMN_NAME       VARCHAR2(30), 
  CONSTRAINT_OWNER  VARCHAR2(128), 
  CONSTRAINT_NAME   VARCHAR2(128), 
  CONSTRAINT_TYPE   VARCHAR2(1), 
  R_OWNER           VARCHAR2(128), 
  R_CONSTRAINT_NAME VARCHAR2(128), 
  CONSTRAINT_DDL    VARCHAR2(4000)
);      

ALTER TABLE &&OS_OWNER..PER_TRANS_COL_CON
ADD CONSTRAINT pk_PER_TRANS_COL_CON PRIMARY KEY (obfus_run_id,CONSTRAINT_OWNER,CONSTRAINT_NAME);   

ALTER TABLE &&OS_OWNER..PER_TRANS_COL_CON 
ADD CONSTRAINT fk_ptcc_ptc
FOREIGN KEY (obfus_run_id,owner,table_name,column_name) 
REFERENCES &&OS_OWNER..PER_TRANS_COLS(obfus_run_id,owner,table_name,column_name) ENABLE;


--------------------------------------------------------
PROMPT Creating table HIST_PARENT_REL
--------------------------------------------------------

 CREATE TABLE &&OS_OWNER..HIST_PARENT_REL (	
   OWNER              VARCHAR2(30), 
	 TABLE_NAME         VARCHAR2(30), 
	 PARENT_OWNER       VARCHAR2(30), 
	 PARENT_TABLE_NAME  VARCHAR2(30)
 );
 
--------------------------------------------------------
PROMPT Creating table TBL_TDC2_UNIQUE
--------------------------------------------------------
CREATE TABLE &&OS_OWNER..TBL_TDC2_UNIQUE (	
   UNIQUE_COLUMN   VARCHAR2(4000)
);

ALTER TABLE &&OS_OWNER..TBL_TDC2_UNIQUE add constraint pk_UNIQUE_COLUMN primary key(UNIQUE_COLUMN);

--------------------------------------------------------
PROMPT Creating table KEYS
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..KEYS
   ( OWNER          VARCHAR2(128) NOT NULL ENABLE, 
	 TABLE_NAME     VARCHAR2(128) NOT NULL ENABLE, 
	 COLUMN_NAME    VARCHAR2(4000)
   );

  CREATE INDEX &&OS_OWNER..KEYS_IDX1 ON &&OS_OWNER..KEYS (TABLE_NAME, COLUMN_NAME) 
  PCTFREE 10 INITRANS 2 MAXTRANS 162 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE PRISM_INDEX;
 
--------------------------------------------------------
PROMPT Creating table partition_update_counts
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..partition_update_counts
  ( 
    table_name          VARCHAR2(128) NOT NULL ENABLE, 
    partition_name      VARCHAR2(128) NOT NULL ENABLE, 
	update_count        number(10)         NOT NULL ENABLE,
    updated_date        DATE	           NOT NULL ENABLE,
	partition_update_id number(38)         NOT NULL ENABLE
  );
   
  ALTER TABLE &&OS_OWNER..partition_update_counts
  ADD CONSTRAINT pk_partition_update_counts PRIMARY KEY (table_name,partition_name);   

--------------------------------------------------------
PROMPT Creating table execution_report
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..execution_report
 (
   OBFUS_RUN_ID      NUMBER NOT NULL ENABLE,
   EXECUTION_ID      NUMBER NOT NULL ENABLE,
   STAGE_STEP_CODE   VARCHAR2(11) NOT NULL ENABLE,
   STMT_SEQ          NUMBER NOT NULL ENABLE, 
   OWNER             VARCHAR2(128), 
   TABLE_NAME        VARCHAR2(128),
   START_TIMESTAMP   TIMESTAMP (6), 
   END_TIMESTAMP     TIMESTAMP (6),
   DURATION_SECONDS  NUMBER(38,3),
   STATUS            VARCHAR2(10), 
   LOG_MSG           VARCHAR2(4000)
  );
	 
--------------------------------------------------------
PROMPT Creating table SYSTEM_CONFIGURATION 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SYSTEM_CONFIGURATION 
 (
   CONFIG_TYPE  VARCHAR2(30), 
   CONFIG_VALUE VARCHAR2(60)
 );  
 
 ALTER TABLE &&OS_OWNER..SYSTEM_CONFIGURATION ADD CONSTRAINT PK_SYSTEM_CONFIGURATION PRIMARY KEY ( CONFIG_TYPE );
 Insert into SYSTEM_CONFIGURATION (CONFIG_TYPE,CONFIG_VALUE) values ('COL_MASK_ROW_THRESHOLD','10000');
 commit;


--------------------------------------------------------
PROMPT Creating table DD_TAB_STATS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_TAB_STATS
   (           OWNER VARCHAR2(128), 
                ACTUAL_OWNER VARCHAR2(128), 
                TABLE_NAME VARCHAR2(128), 
                PARTITION_NAME VARCHAR2(128), 
                PARTITION_POSITION NUMBER, 
                SUBPARTITION_NAME VARCHAR2(128), 
                SUBPARTITION_POSITION NUMBER, 
                OBJECT_TYPE VARCHAR2(12), 
                NUM_ROWS NUMBER, 
                BLOCKS NUMBER, 
                EMPTY_BLOCKS NUMBER, 
                AVG_SPACE NUMBER, 
                CHAIN_CNT NUMBER, 
                AVG_ROW_LEN NUMBER, 
                AVG_SPACE_FREELIST_BLOCKS NUMBER, 
                NUM_FREELIST_BLOCKS NUMBER, 
                AVG_CACHED_BLOCKS NUMBER, 
                AVG_CACHE_HIT_RATIO NUMBER, 
                IM_IMCU_COUNT NUMBER, 
                IM_BLOCK_COUNT NUMBER, 
                IM_STAT_UPDATE_TIME TIMESTAMP (9), 
                SCAN_RATE NUMBER, 
                SAMPLE_SIZE NUMBER, 
                LAST_ANALYZED DATE, 
                GLOBAL_STATS VARCHAR2(3), 
                USER_STATS VARCHAR2(3), 
                STATTYPE_LOCKED VARCHAR2(5), 
                STALE_STATS VARCHAR2(3), 
                SCOPE VARCHAR2(7),
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6)
);

--------------------------------------------------------
PROMPT Creating table DD_TABLES 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_TABLES 
   (           ACTUAL_OWNER VARCHAR2(128) NOT NULL ENABLE, 
                OWNER VARCHAR2(128) NOT NULL ENABLE, 
                TABLE_NAME VARCHAR2(128) NOT NULL ENABLE, 
                TABLESPACE_NAME VARCHAR2(30), 
                NUM_ROWS        NUMBER,				
				TEMPORARY       VARCHAR2(1),
                IOT_NAME             VARCHAR2(128),				
				IOT_TYPE        VARCHAR2(12),
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6),
            CONSTRAINT PK_DD_TABLES PRIMARY KEY (OWNER, TABLE_NAME)
   );
   
--------------------------------------------------------
PROMPT Creating table DD_VIEWS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_VIEWS 
   (	ACTUAL_OWNER VARCHAR2(128) NOT NULL ENABLE, 
	OWNER VARCHAR2(128) NOT NULL ENABLE, 
	VIEW_NAME VARCHAR2(128) NOT NULL ENABLE, 
	CREATED_TS TIMESTAMP (6), 
	MODIFIED_TS TIMESTAMP (6), 
	 CONSTRAINT PK_DD_VIEWS PRIMARY KEY (OWNER, VIEW_NAME) 
  );	 
   
   
--------------------------------------------------------
PROMPT Creating table DD_PART_TABLES 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..dd_part_tables (
    ACTUAL_OWNER                   VARCHAR2(128), 
    OWNER                          VARCHAR2(128),  
    TABLE_NAME                     VARCHAR2(128),  
    PARTITIONING_TYPE              VARCHAR2(9),    
    SUBPARTITIONING_TYPE           VARCHAR2(9),
    CREATED_TS  TIMESTAMP (6), 
    MODIFIED_TS TIMESTAMP (6),	
	CONSTRAINT PK_DD_PART_TABLES PRIMARY KEY (OWNER, TABLE_NAME));   
 
--------------------------------------------------------
PROMPT Creating table DD_TAB_PARTITIONS 
--------------------------------------------------------
    CREATE TABLE &&OS_OWNER..DD_TAB_PARTITIONS (	
      ACTUAL_TABLE_OWNER VARCHAR2(128) NOT NULL, 
      TABLE_OWNER        VARCHAR2(128) NOT NULL, 
      TABLE_NAME VARCHAR2(128)         NOT NULL, 
      PARTITION_NAME VARCHAR2(128)     NOT NULL, 
      NUM_ROWS NUMBER, 
      LAST_ANALYZED DATE, 
      CREATED_TS TIMESTAMP, 
      MODIFIED_TS TIMESTAMP,
     CONSTRAINT PK_DD_TAB_PARTITIONS PRIMARY KEY (ACTUAL_TABLE_OWNER, TABLE_OWNER, TABLE_NAME, PARTITION_NAME)
    );  
   
--------------------------------------------------------
PROMPT Creating table DD_TAB_COL_STATS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_TAB_COL_STATS 
   (            OWNER VARCHAR2(128), 
                ACTUAL_OWNER VARCHAR2(128), 
                TABLE_NAME VARCHAR2(128), 
                COLUMN_NAME VARCHAR2(128), 
                NUM_DISTINCT NUMBER, 
                LOW_VALUE RAW(2000), 
                HIGH_VALUE RAW(2000), 
                DENSITY NUMBER, 
                NUM_NULLS NUMBER, 
                NUM_BUCKETS NUMBER, 
                LAST_ANALYZED DATE, 
                SAMPLE_SIZE NUMBER, 
                GLOBAL_STATS VARCHAR2(3), 
                USER_STATS VARCHAR2(3), 
                NOTES VARCHAR2(80), 
                AVG_COL_LEN NUMBER, 
                HISTOGRAM VARCHAR2(15), 
                SCOPE VARCHAR2(7),
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6),
                 CONSTRAINT PK_DD_TAB_COL_STATS PRIMARY KEY (OWNER, TABLE_NAME, COLUMN_NAME)
);

--------------------------------------------------------
PROMPT Creating table DD_TAB_COLUMNS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_TAB_COLUMNS 
   (            ACTUAL_OWNER VARCHAR2(128) NOT NULL ENABLE, 
                OWNER VARCHAR2(128) NOT NULL ENABLE, 
                TABLE_NAME VARCHAR2(128) NOT NULL ENABLE, 
                COLUMN_NAME VARCHAR2(128) NOT NULL ENABLE, 
                DATA_TYPE VARCHAR2(128), 
                DATA_TYPE_MOD VARCHAR2(3), 
                DATA_TYPE_OWNER VARCHAR2(128), 
                DATA_LENGTH NUMBER NOT NULL ENABLE, 
                DATA_PRECISION NUMBER, 
                DATA_SCALE NUMBER, 
                NULLABLE VARCHAR2(1), 
                COLUMN_ID NUMBER, 
                DEFAULT_LENGTH NUMBER, 
                NUM_DISTINCT NUMBER, 
                DENSITY NUMBER, 
                NUM_NULLS NUMBER, 
                NUM_BUCKETS NUMBER, 
                LAST_ANALYZED DATE, 
                SAMPLE_SIZE NUMBER, 
                CHARACTER_SET_NAME VARCHAR2(44), 
                CHAR_COL_DECL_LENGTH NUMBER, 
                GLOBAL_STATS VARCHAR2(3), 
                USER_STATS VARCHAR2(3), 
                AVG_COL_LEN NUMBER, 
                CHAR_LENGTH NUMBER,
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6), 
    CONSTRAINT PK_DD_TAB_COLUMNS PRIMARY KEY (OWNER, TABLE_NAME, COLUMN_NAME)
);

--------------------------------------------------------
PROMPT Creating table DD_CONS_COLUMNS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_CONS_COLUMNS
   ( ACTUAL_OWNER    VARCHAR2(128) NOT NULL ENABLE, 
	 OWNER           VARCHAR2(128), 
	 CONSTRAINT_NAME VARCHAR2(128) NOT NULL ENABLE, 
	 TABLE_NAME      VARCHAR2(128) NOT NULL ENABLE, 
	 COLUMN_NAME     VARCHAR2(4000), 
	 POSITION        NUMBER,
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6),
	CONSTRAINT PK_DD_CONS_COLUMNS PRIMARY KEY (OWNER, CONSTRAINT_NAME, COLUMN_NAME) 
   ); 
   
--------------------------------------------------------
PROMPT Creating table DD_CONSTRAINTS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_CONSTRAINTS 
   (	ACTUAL_OWNER VARCHAR2(128), 
	OWNER VARCHAR2(128), 
	CONSTRAINT_NAME VARCHAR2(128), 
	CONSTRAINT_TYPE VARCHAR2(1), 
	TABLE_NAME VARCHAR2(128), 
	ACTUAL_R_OWNER VARCHAR2(128), 
	R_OWNER VARCHAR2(128), 
	R_CONSTRAINT_NAME VARCHAR2(128), 
	ACTUAL_INDEX_OWNER VARCHAR2(128), 
	INDEX_OWNER VARCHAR2(128), 
	INDEX_NAME VARCHAR2(128),
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6),
	CONSTRAINT PK_DD_CONSTRAINTS PRIMARY KEY (OWNER, TABLE_NAME, CONSTRAINT_NAME)
   );   

CREATE TABLE &&OS_OWNER..TEMP_SRC_DD_CONSTRAINTS 
(	ACTUAL_OWNER VARCHAR2(128), 
	OWNER VARCHAR2(128), 
	CONSTRAINT_NAME VARCHAR2(128), 
	CONSTRAINT_TYPE VARCHAR2(1), 
	TABLE_NAME VARCHAR2(128), 
	ACTUAL_R_OWNER VARCHAR2(128), 
	R_OWNER VARCHAR2(128), 
	R_CONSTRAINT_NAME VARCHAR2(128), 
	ACTUAL_INDEX_OWNER VARCHAR2(128), 
	INDEX_OWNER VARCHAR2(128), 
	INDEX_NAME VARCHAR2(128),
	created_ts             timestamp,
    modified_ts            timestamp, 	
	CONSTRAINT PK_TEMP_SRC_DD_CONSTRAINTS PRIMARY KEY (OWNER, TABLE_NAME, CONSTRAINT_NAME)
);      
      
   
--------------------------------------------------------
PROMPT Creating table DD_IND_COLUMNS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_IND_COLUMNS 
   (	ACTUAL_INDEX_OWNER VARCHAR2(128) NOT NULL ENABLE, 
	INDEX_OWNER VARCHAR2(128), 
	INDEX_NAME VARCHAR2(128) NOT NULL ENABLE, 
	ACTUAL_TABLE_OWNER VARCHAR2(128) NOT NULL ENABLE, 
	TABLE_OWNER VARCHAR2(128), 
	TABLE_NAME VARCHAR2(128) NOT NULL ENABLE, 
	COLUMN_NAME VARCHAR2(4000), 
	COLUMN_POSITION NUMBER NOT NULL ENABLE, 
	COLUMN_LENGTH NUMBER NOT NULL ENABLE, 
	CHAR_LENGTH NUMBER,
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6),
	CONSTRAINT PK_DD_IND_COLUMNS PRIMARY KEY (INDEX_OWNER, INDEX_NAME, COLUMN_NAME) 	
   );
   
--------------------------------------------------------
PROMPT Creating table DD_INDEXES 
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..DD_INDEXES (
	 ACTUAL_OWNER         VARCHAR2(128) NOT NULL ENABLE,  
	 OWNER                VARCHAR2(128),
	 INDEX_NAME           VARCHAR2(128) NOT NULL ENABLE,
	 INDEX_TYPE           VARCHAR2(27),
	 ACTUAL_TABLE_OWNER   VARCHAR2(128) NOT NULL ENABLE,
	 TABLE_OWNER          VARCHAR2(128),
	 TABLE_NAME           VARCHAR2(128) NOT NULL ENABLE,
	 TABLE_TYPE           VARCHAR2(11),   
	 created_ts           timestamp,
     modified_ts          timestamp	
   );    
   
--------------------------------------------------------
PROMPT Creating table DD_OBJECTS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..dd_objects (  
     OBJECT_ID        NUMBER         NOT NULL,
     ACTUAL_OWNER     VARCHAR2(128)  NOT NULL,
     OWNER            VARCHAR2(128),
     OBJECT_TYPE      VARCHAR2(23),
     OBJECT_NAME      VARCHAR2(128) NOT NULL,
     LAST_DDL_TIME    DATE,
     STATUS           VARCHAR2(7),
     TEMPORARY        VARCHAR2(1),
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6),	 
     CONSTRAINT PK_DD_OBJECTS PRIMARY KEY (OBJECT_ID)	 
  );
   
   
--------------------------------------------------------
PROMPT Creating table DD_TAB_PRIVS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_TAB_PRIVS 
   ( GRANTEE          VARCHAR2(128), 
     ACTUAL_OWNER     VARCHAR2(128),   
	 OWNER            VARCHAR2(128), 
	 TABLE_NAME       VARCHAR2(128), 
	 GRANTOR          VARCHAR2(128), 
	 PRIVILEGE        VARCHAR2(40), 
	 GRANTABLE        VARCHAR2(3), 
	 HIERARCHY        VARCHAR2(3), 
	 COMMON           VARCHAR2(3), 
	 TYPE             VARCHAR2(24), 
	 INHERITED        VARCHAR2(3),
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6)
   );

---------------------------------------------------------
PROMPT Creating table DD_SYNONYMS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_SYNONYMS 
(
  OWNER              VARCHAR2(128),
  ACTUAL_OWNER       VARCHAR2(128), 
  SYNONYM_NAME       VARCHAR2(128), 
  TABLE_OWNER        VARCHAR2(128), 
  TABLE_NAME         VARCHAR2(128), 
  DB_LINK            VARCHAR2(128), 
  ORIGIN_CON_ID      NUMBER,
                CREATED_TS  TIMESTAMP (6), 
                MODIFIED_TS TIMESTAMP (6)        
);
   
   
/* --------------------------------------------------------
PROMPT Creating table DD_TRIGGERS 
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..DD_TRIGGERS 
   (	ACTUAL_OWNER VARCHAR2(128), 
	OWNER VARCHAR2(128), 
	TRIGGER_NAME VARCHAR2(128), 
	TRIGGER_TYPE VARCHAR2(16), 
	TRIGGERING_EVENT VARCHAR2(246), 
	ACTUAL_TABLE_OWNER VARCHAR2(128), 
	TABLE_OWNER VARCHAR2(128), 
	TABLE_NAME VARCHAR2(128), 
	COLUMN_NAME VARCHAR2(4000), 
	STATUS VARCHAR2(8)
   );    */
   
 
--drop TABLE &&OS_OWNER..ss_ctrl;   
   
--------------------------------------------------------
PROMPT Creating table ss_ctrl  
--------------------------------------------------------  
 
  CREATE TABLE &&OS_OWNER..ss_ctrl ( 
  ss_run_id                NUMBER        NOT NULL,
  src_prefix               VARCHAR2(30)  NOT NULL,
  tgt_prefix               VARCHAR2(30)  NOT NULL,
  run_env                  VARCHAR2(30)  NOT NULL,  
  anon_version             VARCHAR2(12)  NOT NULL,
  ss_status                VARCHAR2(10)  NOT NULL,
  ss_stages_loaded         VARCHAR2(1)   DEFAULT 'N' NOT NULL ENABLE,
  dd_loaded                VARCHAR2(1)   DEFAULT 'N' NOT NULL ENABLE,
  ss_config_loaded         VARCHAR2(1)   DEFAULT 'N' NOT NULL ENABLE,
  SS_SYNS_CREATED          VARCHAR2(1)   DEFAULT 'N' NOT NULL ENABLE, 
  SRC_METADATA_LOADED      VARCHAR2(1)   DEFAULT 'N' NOT NULL ENABLE,   
  run_start_time           DATE,
  run_completed_date       DATE,	
  created_ts               timestamp,
  modified_ts              timestamp  
);

ALTER TABLE &&OS_OWNER..ss_ctrl add constraint pk_ss_ctrl primary key(ss_run_id);
CREATE UNIQUE INDEX &&OS_OWNER..ss_ctrl_I1 ON &&OS_OWNER..ss_ctrl (src_prefix,tgt_prefix,run_env);
ALTER TABLE &&OS_OWNER..ss_ctrl ADD CONSTRAINT chk_ss_status 
CHECK (ss_status IN ( 'PENDING', 'RUNNING', 'FAILED', 'COMPLETED','TERMINATED','ON','OFF','PAUSED')); 

--drop table &&OS_OWNER..SS_LOG;

--------------------------------------------------------
PROMPT Creating Table SS_LOG
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_LOG 
   (	LOG_ID NUMBER, 
    stage_step_code VARCHAR2(11),
	LOG_MSG VARCHAR2(4000),
	ERR_CODE NUMBER, 
	ERRM VARCHAR2(4000), 
	MODULE VARCHAR2(4000),
	MOD_TIMESTAMP TIMESTAMP (6) WITH LOCAL TIME ZONE,	
	SRC_PREFIX VARCHAR2(20), 
	ANON_VERSION VARCHAR2(12), 
	TGT_PREFIX VARCHAR2(20), 
	RUN_DATE DATE,
    ss_run_id   number,
	execution_id   number,
    stage_type  varchar2(30),
    CREATED_TS  TIMESTAMP (6), 
    MODIFIED_TS TIMESTAMP (6)	
   );
 
ALTER TABLE &&OS_OWNER..SS_LOG add constraint pk_SS_LOG primary key(LOG_ID); 
 
 
--------------------------------------------------------
PROMPT Creating table SS_STAGE_CODE_ORDER
--------------------------------------------------------
 CREATE TABLE &&OS_OWNER..SS_STAGE_ORDER 
   ( STAGE_TYPE         VARCHAR2(30),
     stage_code_alpha   VARCHAR2(2) NOT NULL,
     stage_order        NUMBER      NOT NULL, 
     STAGE_DESC         VARCHAR2(1000)  NOT NULL,
     CREATED_TS  TIMESTAMP (6), 
     MODIFIED_TS TIMESTAMP (6)
   );

ALTER TABLE &&OS_OWNER..SS_STAGE_ORDER add constraint pk_SS_STAGE_ORDER primary key(STAGE_TYPE);   
CREATE UNIQUE INDEX &&OS_OWNER..SS_STAGE_ORDER_I1 ON &&OS_OWNER..SS_STAGE_ORDER (stage_code_alpha);
CREATE UNIQUE INDEX &&OS_OWNER..SS_STAGE_ORDER_I2 ON &&OS_OWNER..SS_STAGE_ORDER (stage_order);
CREATE UNIQUE INDEX &&OS_OWNER..SS_STAGE_ORDER_I3 ON &&OS_OWNER..SS_STAGE_ORDER (STAGE_DESC);

insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'SY','CREATE_SRC_SYN','CREATE OR REPLACE SYNONYMS TO source views, dd_, ss_ and md_ tables');
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'RD','DROP_REF_PART_TABS','Drop PRISM REFERENCE partitioned tables');  
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'DU','DROP_USER','Drop all PRISM schemas in target');
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'CS','CREATE_SCHEMA','Create all PRISM schemas in target using datapump and missing md_ddl partitioned tables with NULL_COMP_CODE partition only.');
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'AS','ADD_SYNONYMS','Create synonyms for md_ddl partition tables');
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'AG','ADD_GRANTS','Create object grants for md_ddl partition tables'); 
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'C1','CHECK_POINT_1','Check and fix missing synonyms/tables/grants');   
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'MC','MISSING_CONSTRAINTS','Create all missing prism referential constraints');
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'C2','CHECK_POINT_2','Check and fix missing Ref constraints');  
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'CP','CONV_TO_PART','Alter table to be partitioned with NULL_COMP_CODE if applicable');
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'C3','CHECK_POINT_3','Check and fix missing partitions');  
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc) 
  values( SS_STAGE_ORDER_SEQ.nextval,'AP','ADD_PARTITION','Add subset partitions to md_ddl partition tables');          
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'DC','DISABLE_REF_CONS','Disable all referential constraints');   
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'DT','DISABLE_TRIGGERS','Disable all triggers checking validation');     
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)    
  values( SS_STAGE_ORDER_SEQ.nextval,'VR','GEN_VIEW_RULE','Generate Views Required for rule based data load' );
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)    
  values( SS_STAGE_ORDER_SEQ.nextval,'RS','GEN_SYN_RULE','Generate Synonyms Required for rule based data load' );
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)    
  values( SS_STAGE_ORDER_SEQ.nextval,'LA','LOAD_DATA_ALL','Load ALL data identified by ss_config.ss_type using insert select from source table' );
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'LS','LOAD_DATA_SUBSET','Load SUBSET data identified by ss_config.ss_type using insert select from source subset views' );  
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'C5','CHECK_POINT_5','Reload failed SUBSET data loads'); 
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'LR','LOAD_DATA_RULE','Load RULE data identified by ss_config.ss_type' );  
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'C6','CHECK_POINT_6','Reload failed RULE data loads');      
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)  
  values( SS_STAGE_ORDER_SEQ.nextval,'EC','ENABLE_REF_CONS','Enable all referential constraints');   
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)  
  values( SS_STAGE_ORDER_SEQ.nextval,'AI','ADD_INDEXES','Create indexes for md_ddl partition tables');   
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'AT','ADD_TRIGGERS','Add triggers for md_ddl partition tables'); 
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'ET','ENABLE_TRIGGERS','Enable all triggers checking validation');  
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'C7','CHECK_POINT_7','Generate missing objects report and create any missing triggers and indexes');    
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)
  values( SS_STAGE_ORDER_SEQ.nextval,'C8','CHECK_POINT_8','fix invalid foreign keys');   
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)  
  values( SS_STAGE_ORDER_SEQ.nextval,'SR','SCHEMA_REPORTING','Run SS_Reporting for missing or invalid objects');   
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)  
  values( SS_STAGE_ORDER_SEQ.nextval,'DR','DATA_REPORTING','Run SS_Reporting for missing data');   
insert into ss_stage_order(stage_order,stage_code_alpha,stage_type,stage_desc)  
  values( SS_STAGE_ORDER_SEQ.nextval,'FI','FINAL','Final stage for miscellaneous patching'); 
  

commit; 	
 
 
--drop table &&OS_OWNER..ss_ctrl_stmts purge; 
 --------------------------------------------------------
PROMPT Creating table ss_ctrl_stmts  
--------------------------------------------------------  

CREATE TABLE &&OS_OWNER..ss_ctrl_stmts (
  SS_RUN_ID           NUMBER             NOT NULL ENABLE, 
  STAGE_STEP_CODE     VARCHAR2(11)  NOT NULL ENABLE, 
  DEPENDENT_SS_CODE   VARCHAR2(11), 
  STEP_TYPE           VARCHAR2(1)   NOT NULL ENABLE, 
  STMT_SEQ            NUMBER             NOT NULL ENABLE, 
  OWNER               VARCHAR2(128) NOT NULL ENABLE, 
  OBJECT_TYPE         VARCHAR2(128), 
  OBJECT_NAME         VARCHAR2(128), 
  STMT                CLOB, 
  STAGE_TYPE          VARCHAR2(30) NOT NULL ENABLE,
  CREATED_TS          TIMESTAMP (6), 
  MODIFIED_TS         TIMESTAMP (6)  
);

ALTER TABLE &&OS_OWNER..ss_ctrl_stmts add constraint pk_ss_ctrl_stmts primary key(ss_run_id,stage_step_code,stmt_seq);
ALTER TABLE &&OS_OWNER..ss_ctrl_stmts add constraint fk_ss_ctrl_run_id foreign key(ss_run_id) references ss_ctrl(ss_run_id);
ALTER TABLE &&OS_OWNER..ss_ctrl_stmts add constraint fk_ss_stage_type foreign key(stage_type) references SS_STAGE_ORDER(stage_type);
ALTER TABLE &&OS_OWNER..ss_ctrl_stmts ADD CONSTRAINT chk_ss_step_type CHECK (step_type IN ( 'S', 'P', 'D', 'J')); 
/* S=sql/DML,P=procedure, D=DDL, J=JOB */

--drop table &&OS_OWNER..ss_ctrl_exec_result purge; 

 --------------------------------------------------------
PROMPT Creating table ss_companies  
--------------------------------------------------------  

CREATE TABLE &&OS_OWNER..ss_companies (
   ss_run_id           NUMBER        NOT NULL,
   comp_code           VARCHAR2(10)  NOT NULL,
   partition_name      varchar2(128),   
   CREATED_TS          TIMESTAMP (6), 
   MODIFIED_TS         TIMESTAMP (6)
);

ALTER TABLE &&OS_OWNER..ss_companies add constraint pk_ss_companies primary key(ss_run_id,comp_code);
ALTER TABLE &&OS_OWNER..ss_companies add constraint fk_ss_comp_ctrl foreign key(ss_run_id) references ss_ctrl(ss_run_id);

--------------------------------------------------------
PROMPT Creating table ss_missing_tables  
--------------------------------------------------------

CREATE TABLE &&OS_OWNER..ss_missing_tables
(
  OWNER                  VARCHAR2(128),  
  TABLE_NAME             VARCHAR2(128),
  obj_cre_seq            number,
  table_ddl              clob, 
  CREATED_TS             TIMESTAMP (6), 
  MODIFIED_TS            TIMESTAMP (6)
);

 --------------------------------------------------------
PROMPT Creating table ss_missing_synonyms  
--------------------------------------------------------

CREATE TABLE &&OS_OWNER..ss_missing_synonyms (
  owner                 varchar2(128),
  synonym_name          varchar2(128),
  table_owner           varchar2(128),
  table_name            varchar2(128), 
  CREATED_TS            TIMESTAMP (6), 
  MODIFIED_TS           TIMESTAMP (6) 
);

--------------------------------------------------------
PROMPT Creating table SS_MISSING_INDEXES  
--------------------------------------------------------

CREATE TABLE &&OS_OWNER..SS_MISSING_INDEXES ( 
  INDEX_OWNER           VARCHAR2(128), 
  INDEX_NAME            VARCHAR2(128), 
  TABLE_OWNER           VARCHAR2(128), 
  TABLE_NAME            VARCHAR2(128), 
  INDEX_TYPE            VARCHAR2(27), 
  COLUMN_NAMES          VARCHAR2(4000), 
  CREATED_TS            TIMESTAMP (6), 
  MODIFIED_TS           TIMESTAMP (6) 
);

--------------------------------------------------------
PROMPT Creating table ss_missing_sys_indexes
--------------------------------------------------------

CREATE TABLE &&OS_OWNER..ss_missing_sys_indexes ( 
  OWNER                 VARCHAR2(128),
  SRC_ACTUAL_OWNER      VARCHAR2(128) NOT NULL,
  TGT_ACTUAL_OWNER      VARCHAR2(128),
  TABLE_NAME            VARCHAR2(128) NOT NULL,
  INDEX_TYPE            VARCHAR2(27),
  SRC_INDEX_NAME        VARCHAR2(128) NOT NULL,
  TGT_INDEX_NAME        VARCHAR2(128),
  COLUMN_NAME           VARCHAR2(4000), 
  CREATED_TS            TIMESTAMP (6), 
  MODIFIED_TS           TIMESTAMP (6) 
);

 --------------------------------------------------------
PROMPT Creating table SS_GRAPH_SORT  
--------------------------------------------------------

CREATE TABLE &&OS_OWNER..SS_GRAPH_SORT
   (	PARENT_TABLE_OWNER VARCHAR2(128), 
	CHILD_TABLE_OWNER VARCHAR2(128), 
	PAR_TABLE_ACTUAL_OWNER VARCHAR2(128), 
	CHILD_TABLE_ACTUAL_OWNER VARCHAR2(128), 
	PARENT_TABLE VARCHAR2(128), 
	CHILD_TABLE VARCHAR2(128), 
	PARENT_TABLE_ORDER NUMBER, 
	CHILD_TABLE_ORDER NUMBER, 
	CREATED_TS TIMESTAMP (6), 
	MODIFIED_TS TIMESTAMP (6)
   );

 --------------------------------------------------------
PROMPT Creating table SS_TABLE_LIST_SORT  
--------------------------------------------------------

CREATE TABLE &&OS_OWNER..SS_TABLE_LIST_SORT 
   (	OWNER VARCHAR2(128), 
	ACTUAL_OWNER VARCHAR2(128), 
	TABLE_NAME VARCHAR2(128), 
	TABLE_ORDER NUMBER,  
	TABLE_ID NUMBER,
	CREATED_TS          TIMESTAMP (6), 
    MODIFIED_TS         TIMESTAMP (6)
   ); 
--------------------------------------------------------
PROMPT Creating table ss_ctrl_exec_result  
--------------------------------------------------------  

  CREATE TABLE &&OS_OWNER..ss_ctrl_exec_result ( 
  ss_run_id           NUMBER        NOT NULL,
  stage_step_code     VARCHAR2(11)   NOT NULL,
  stmt_seq            NUMBER        NOT NULL,   
  execution_id        NUMBER        NOT NULL,
  start_timestamp     TIMESTAMP,  
  end_timestamp       TIMESTAMP,  
  duration_seconds    NUMBER(38,3) GENERATED ALWAYS AS ( EXTRACT(DAY FROM(end_timestamp-start_timestamp))*24*60*60
                                                       + EXTRACT(HOUR FROM(end_timestamp-start_timestamp))*60*60
                                                       + EXTRACT(MINUTE FROM(end_timestamp-start_timestamp))*60
                                                       + EXTRACT(SECOND FROM(end_timestamp-start_timestamp))),
  status              VARCHAR2(10),
  ss_log_id           NUMBER,
  CREATED_TS          TIMESTAMP (6), 
   MODIFIED_TS         TIMESTAMP (6)
);

ALTER TABLE &&OS_OWNER..ss_ctrl_exec_result add constraint pk_ss_ctrl_exec_result primary key(ss_run_id,stage_step_code,stmt_seq,execution_id);
ALTER TABLE &&OS_OWNER..ss_ctrl_exec_result add constraint fk_ss_ctrl_stmts foreign key(ss_run_id,stage_step_code,stmt_seq) references ss_ctrl_stmts(ss_run_id,stage_step_code,stmt_seq);
ALTER TABLE &&OS_OWNER..ss_ctrl_exec_result add constraint fk_ss_log_id foreign key(ss_log_id) references ss_log(log_id);
ALTER TABLE &&OS_OWNER..ss_ctrl_exec_result ADD CONSTRAINT chk_ss_exec_status CHECK (status IN ('STARTED','FAILED','COMPLETED','DEP_INCOMP')); 


--------------------------------------------------------
PROMPT Creating table job_execution
--------------------------------------------------------  

--DROP TABLE &&OS_OWNER..job_execution;

  CREATE TABLE &&OS_OWNER..job_execution ( 
  subsystem              VARCHAR2(30)   NOT NULL, 
  run_id                 NUMBER         NOT NULL,
  job_type               VARCHAR2(30),  
  job_name               VARCHAR2(128)  NOT NULL,
  start_stage_step_code  VARCHAR2(11),  
  end_stage_step_code    VARCHAR2(11),  
  stmt_seq               NUMBER         NOT NULL, 
  execution_id           NUMBER,
  start_timestamp        TIMESTAMP,  
  end_timestamp          TIMESTAMP,  	
  run_duration    		 INTERVAL DAY(3) TO SECOND(0),
  status                 VARCHAR2(30),
  completed_yn           VARCHAR2(1) DEFAULT 'N' NOT NULL,
  created_ts             timestamp,
  modified_ts            timestamp 
);

ALTER TABLE &&OS_OWNER..job_execution add constraint pk_job_execution primary key(subsystem,run_id,job_name,execution_id);
ALTER TABLE &&OS_OWNER..job_execution ADD CONSTRAINT chk_completed_yn CHECK (completed_yn IN ('Y','N')); 

create or replace TRIGGER &&OS_OWNER..job_execution_biu
  BEFORE INSERT OR UPDATE ON &&OS_OWNER..job_execution
  FOR EACH ROW
	BEGIN
		IF INSERTING THEN
			:NEW.created_ts := systimestamp;            
			:NEW.modified_ts := systimestamp;
		ELSE
			:NEW.modified_ts := systimestamp;
		END IF;
	END;
/	

--------------------------------------------------------
PROMPT Creating table ss_config  
--------------------------------------------------------  
--drop TABLE &&OS_OWNER..ss_config;

CREATE TABLE &&OS_OWNER..ss_config (  
  run_id              NUMBER          NOT NULL,
  ss_order	          NUMBER          NOT NULL,   
  owner               VARCHAR2(30),
  table_name          VARCHAR2(100), 
  ss_type             VARCHAR2(20)    DEFAULT 'TYPE_SS_NONE' NOT NULL, 
  partitioned_yn      VARCHAR2(1)     NOT NULL,
  CREATED_TS          TIMESTAMP(6),
  MODIFIED_TS         TIMESTAMP(6)   
 );
 
ALTER TABLE &&OS_OWNER..ss_config add constraint pk_ss_config primary key(RUN_ID,owner,table_name);
ALTER TABLE &&OS_OWNER..ss_config ADD CONSTRAINT chk_ss_type CHECK (ss_type IN ( 'TYPE_SS_SUBSET', 'TYPE_SS_SUBSET_RULE', 'TYPE_SS_NONE', 'TYPE_ALL')); 
ALTER TABLE &&OS_OWNER..ss_config ADD CONSTRAINT chk_partitioned_yn CHECK (partitioned_yn IN ( 'Y', 'N')); 


--------------------------------------------------------
PROMPT Creating table ss_execution_report
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_execution_report
 (
   SS_RUN_ID         NUMBER NOT NULL ENABLE,
   SRC_PREFIX        VARCHAR2(30) NOT NULL ENABLE,
   TGT_PREFIX        VARCHAR2(30) NOT NULL ENABLE,   
   STAGE_TYPE        VARCHAR2(30) NOT NULL ENABLE,  
   EXECUTION_ID      NUMBER NOT NULL ENABLE,
   STAGE_STEP_CODE   VARCHAR2(11) NOT NULL ENABLE,
   STMT_SEQ          NUMBER NOT NULL ENABLE, 
   OWNER             VARCHAR2(128), 
   TABLE_NAME        VARCHAR2(128),
   START_TIMESTAMP   TIMESTAMP (6), 
   END_TIMESTAMP     TIMESTAMP (6),
   DURATION_SECONDS  NUMBER(38,3),
   STATUS            VARCHAR2(10), 
   LOG_MSG           VARCHAR2(4000),   
   CREATED_TS          TIMESTAMP (6), 
   MODIFIED_TS         TIMESTAMP (6)
  );
  

--------------------------------------------------------
PROMPT Creating table ss_exec_summary
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_exec_summary
 (
   SS_RUN_ID           NUMBER       NOT NULL,
   SRC_PREFIX          VARCHAR2(30) NOT NULL,
   TGT_PREFIX          VARCHAR2(30) NOT NULL,
   STAGE_ORDER         NUMBER,
   STAGE_TYPE          VARCHAR2(30),
   STATUS              VARCHAR2(10),
   ERRM                VARCHAR2(4000),
   RUN_TIME_SECONDS    NUMBER,
   RUN_TIME_MINUTES    NUMBER,
   COUNT               NUMBER,
   STAGE_DESC          VARCHAR2(1000),   
   CREATED_TS          TIMESTAMP (6), 
   MODIFIED_TS         TIMESTAMP (6)  
 );
  
--------------------------------------------------------
PROMPT Creating table ss_global_vars
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_global_vars (
   GLOBAL_NAME   VARCHAR2(128) NOT NULL ENABLE,
   GLOBAL_VALUE  VARCHAR2(128) NOT NULL ENABLE,   
   CREATED_TS    TIMESTAMP (6), 
   MODIFIED_TS   TIMESTAMP (6)
  );
  
  ALTER TABLE &&OS_OWNER..ss_global_vars ADD CONSTRAINT PK_ss_global_vars PRIMARY KEY (global_name);  
  
--------------------------------------------------------
PROMPT Creating table SS_RULE_GRAPH
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_RULE_GRAPH 
  ( RUN_ID        NUMBER, 
    RULE_ID       NUMBER, 
    LINK_TYPE     VARCHAR2(15), 
    IN_LINK       VARCHAR2(128), 
    OUT_LINK      VARCHAR2(128), 
    CREATED_TS    TIMESTAMP(6), 
    MODIFIED_TS   TIMESTAMP(6)
  );
  
  ALTER TABLE &&OS_OWNER..SS_RULE_GRAPH ADD CONSTRAINT PK_SS_RULE_GRAPH PRIMARY KEY (RUN_ID,RULE_ID,LINK_TYPE,IN_LINK,OUT_LINK);


--------------------------------------------------------
PROMPT Creating table SS_RULE_NODES
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_RULE_NODES 
   (RUN_ID           NUMBER, 
    RULE_ID          NUMBER, 
    CONSTRAINT_NAME  VARCHAR2(128), 
    OBJECT_NAME      VARCHAR2(128), 
    COLS             VARCHAR2(4000), 
    COL_TYPES        VARCHAR2(4000), 
    NULLABLE         VARCHAR2(4000), 
    CREATED_TS       TIMESTAMP(6), 
    MODIFIED_TS      TIMESTAMP(6)
   );
   
  ALTER TABLE &&OS_OWNER..SS_RULE_NODES ADD CONSTRAINT PK_SS_RULE_NODES PRIMARY KEY (RUN_ID,RULE_ID,CONSTRAINT_NAME);


 --------------------------------------------------------
PROMPT Creating table ss_rule_tables
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_rule_tables
  ( RUN_ID            NUMBER, 
    RULE_ID           NUMBER, 
    actual_owner      VARCHAR2(128),
    owner             VARCHAR2(128),
    table_name        VARCHAR2(128),
    alias_name        VARCHAR2(20), 
	ARULE             VARCHAR2(4000) NOT NULL ENABLE,
    PARTITIONED_YN    VARCHAR2(1),
    CREATED_TS        TIMESTAMP(6), 
    MODIFIED_TS       TIMESTAMP(6));
        
ALTER TABLE &&OS_OWNER..ss_rule_tables ADD CONSTRAINT PK_ss_rule_tables PRIMARY KEY (RUN_ID,RULE_ID,owner,table_name); 
    
    
 --------------------------------------------------------
PROMPT Creating table ss_rule_table_join_pairs
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_rule_table_join_pairs
      ( RUN_ID             NUMBER, 
        RULE_ID            NUMBER, 
        from_actual_owner  VARCHAR2(128),
        from_owner         VARCHAR2(128),
        from_table_name    VARCHAR2(128),
        from_alias_name    VARCHAR2(20), 
        to_actual_owner    VARCHAR2(128),
        to_owner           VARCHAR2(128),
        to_table_name      VARCHAR2(128),
        to_alias_name      VARCHAR2(20), 
        CREATED_TS         TIMESTAMP(6), 
        MODIFIED_TS        TIMESTAMP(6));
        
ALTER TABLE &&OS_OWNER..ss_rule_table_join_pairs ADD CONSTRAINT PK_ss_rule_table_join_pairs PRIMARY KEY (RUN_ID,RULE_ID,from_owner,from_table_name,to_owner,to_table_name);   


--------------------------------------------------------
PROMPT Creating table SS_PT_TABS_POPULATED
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_PT_TABS_POPULATED
   (	
     actual_owner     VARCHAR2(128),   
     OWNER            VARCHAR2(128), 
	 TABLE_NAME       VARCHAR2(128),
	 ROW_COUNT        NUMBER,
	 db_version       varchar2(11),
     created_ts       timestamp,
     modified_ts      timestamp	 
   );  
  
ALTER TABLE &&OS_OWNER..SS_PT_TABS_POPULATED add constraint pk_pt_tabs_pop primary key(actual_owner,OWNER,TABLE_NAME);

--------------------------------------------------------
PROMPT Creating table SS_OBJECT_COUNTS
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_OBJECT_COUNTS 
   (	SRC_OR_TGT CHAR(3), 
	ACTUAL_OWNER VARCHAR2(128), 
	OWNER VARCHAR2(128), 
	TAB NUMBER, 
	TAB_PART NUMBER, 
	IDX NUMBER, 
	IDX_PART NUMBER, 
	VWS NUMBER, 
	TRG NUMBER, 
	FNC NUMBER, 
	PRC NUMBER, 
	PKS NUMBER, 
	PKB NUMBER, 
	SEQ NUMBER, 
	SYN NUMBER, 
	TYPE NUMBER, 
	TYPE_BODY NUMBER, 
	DBLNK NUMBER,
    created_ts       timestamp,
    modified_ts      timestamp	 	
   );
   
 
--------------------------------------------------------
PROMPT Creating table SS_OTHER_COUNTS
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_OTHER_COUNTS 
   (	OWNER          VARCHAR2(128), 
	TGT_ACTUAL_OWNER   VARCHAR2(128) NOT NULL ENABLE, 
	SRC_ACTUAL_OWNER   VARCHAR2(128) NOT NULL ENABLE, 
	TABLE_NAME         VARCHAR2(128) NOT NULL ENABLE, 
	SRC_NUM_ROWS       NUMBER, 
	TGT_NUM_ROWS       NUMBER,
    created_ts         timestamp,
    modified_ts        timestamp	 	
   ); 
  
--------------------------------------------------------
PROMPT Creating table ss_object_count_diff_report
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_object_count_diff_report
  (	ACTUAL_OWNER VARCHAR2(128), 
	OBJECT_TYPE VARCHAR2(15), 
	SRC_COUNT NUMBER, 
	TGT_COUNT NUMBER,
    created_ts       timestamp,
    modified_ts      timestamp	 	
   );  
   
--------------------------------------------------------
PROMPT Creating table ss_partition_count_diffs
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_partition_count_diffs (
	OWNER                 VARCHAR2(128),
	SRC_ACTUAL_OWNER      VARCHAR2(128),
	TABLE_NAME            VARCHAR2(128),
	TGT_ACTUAL_OWNER      VARCHAR2(128),
	PARTITION_NAME        VARCHAR2(128),
	SRC_NUM_ROWS          NUMBER,
	TGT_NUM_ROWS          NUMBER,
    created_ts            timestamp,
    modified_ts           timestamp	 
   );  
  
ALTER TABLE &&OS_OWNER..ss_partition_count_diffs add constraint pk_ptn_count_diffs primary key(OWNER,SRC_ACTUAL_OWNER,TGT_ACTUAL_OWNER,TABLE_NAME,PARTITION_NAME);
  
--------------------------------------------------------
PROMPT Creating table ss_load_all_count_diffs
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_load_all_count_diffs (
	OWNER                 VARCHAR2(128),
	SRC_ACTUAL_OWNER      VARCHAR2(128),
	TABLE_NAME            VARCHAR2(128),
	TGT_ACTUAL_OWNER      VARCHAR2(128),
	SRC_NUM_ROWS          NUMBER,
	TGT_NUM_ROWS          NUMBER,
    created_ts            timestamp,
    modified_ts           timestamp	 
   );  
  
ALTER TABLE &&OS_OWNER..ss_load_all_count_diffs add constraint pk_load_all_count_diffs primary key(OWNER,SRC_ACTUAL_OWNER,TGT_ACTUAL_OWNER,TABLE_NAME);

--------------------------------------------------------
PROMPT Creating table ss_part_table_aggr
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_part_table_aggr
  (	SS_RUN_ID       NUMBER, 
	OWNER           VARCHAR2(128), 
	ACTUAL_OWNER    VARCHAR2(128), 
	AGGR_LIST_SEQ   NUMBER, 
	AGGR_LIST       VARCHAR2(4000),
    created_ts       timestamp,
    modified_ts      timestamp	 	
   );
  
--------------------------------------------------------
PROMPT Creating table ss_tab_col_diffs
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_tab_col_diffs (
	OWNER                   VARCHAR2(128),
    SRC_ACTUAL_OWNER        VARCHAR2(128) NOT NULL,
    TGT_ACTUAL_OWNER        VARCHAR2(128) NOT NULL,	
	TABLE_NAME              VARCHAR2(128),
	COLUMN_NAME             VARCHAR2(128),
 	SRC_DATA_TYPE           VARCHAR2(128),
 	TGT_DATA_TYPE           VARCHAR2(128),
 	SRC_DATA_LENGTH         NUMBER,
 	TGT_DATA_LENGTH         NUMBER,
 	SRC_DATA_PRECISION      NUMBER,
 	TGT_DATA_PRECISION      NUMBER,
 	SRC_DATA_SCALE          NUMBER,
 	TGT_DATA_SCALE          NUMBER,
 	SRC_NULLABLE            VARCHAR2(1),
 	TGT_NULLABLE            VARCHAR2(1),
 	SRC_COLUMN_ID           NUMBER,
 	TGT_COLUMN_ID           NUMBER,
	SRC_CHARACTER_SET_NAME  VARCHAR2(44),
	TGT_CHARACTER_SET_NAME  VARCHAR2(44),
    created_ts       timestamp,
    modified_ts      timestamp	 	
   );
	 
--------------------------------------------------------
PROMPT Creating table ss_missing_objects
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_missing_objects (
	OWNER                 VARCHAR2(128),	
	OBJECT_TYPE           VARCHAR2(23),
	OBJECT_NAME           VARCHAR2(128),
    created_ts            timestamp,
    modified_ts           timestamp	 	
  );
  
--------------------------------------------------------
PROMPT Creating table ss_missing_constraints
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_missing_constraints (
	OWNER                 VARCHAR2(128),
	R_OWNER               VARCHAR2(128),
	CONSTRAINT_NAME       VARCHAR2(128),
	R_CONSTRAINT_NAME     VARCHAR2(128),
	CONSTRAINT_TYPE       VARCHAR2(1),
	TABLE_NAME            VARCHAR2(128),
    created_ts            timestamp,
    modified_ts           timestamp	 	
  );
  
--------------------------------------------------------
PROMPT Creating table SS_MISSING_SYS_CONSTRAINTS
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_MISSING_SYS_CONSTRAINTS (	
    OWNER                VARCHAR2(128) NOT NULL, 
	SRC_ACTUAL_OWNER     VARCHAR2(128), 
	TGT_ACTUAL_OWNER     VARCHAR2(4000), 
	TABLE_NAME           VARCHAR2(128) NOT NULL, 
	CONSTRAINT_TYPE      VARCHAR2(1), 
	SRC_CONSTRAINT_NAME  VARCHAR2(128) NOT NULL,
	COLUMN_NAME          VARCHAR2(4000), 	
    created_ts           timestamp,
    modified_ts          timestamp	 	
  );   
  
--------------------------------------------------------
PROMPT Creating table ss_missing_privs
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_missing_privs (
	GRANTEE               VARCHAR2(128),
	OWNER                 VARCHAR2(128),
	TABLE_NAME            VARCHAR2(128),
	GRANTOR               VARCHAR2(128),
	PRIVILEGE             VARCHAR2(40),
	GRANTABLE             VARCHAR2(3),
	TYPE                  VARCHAR2(24),
    created_ts            timestamp,
    modified_ts           timestamp	 	
  );

--------------------------------------------------------
PROMPT Creating table ss_invalid_objects
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_invalid_objects (
    ACTUAL_OWNER          VARCHAR2(128),
	OWNER                 VARCHAR2(128),
	OBJECT_TYPE           VARCHAR2(23),
	OBJECT_NAME           VARCHAR2(128) NOT NULL,
	LAST_DDL_TIME         DATE,
    created_ts            timestamp,
    modified_ts           timestamp	 
  );  
  
--------------------------------------------------------
PROMPT Creating table ss_invalid_objects_delta
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..ss_invalid_objects_delta (
    ACTUAL_OWNER          VARCHAR2(128),
	OWNER                 VARCHAR2(128),
	OBJECT_TYPE           VARCHAR2(23),
	OBJECT_NAME           VARCHAR2(128) NOT NULL,
	LAST_DDL_TIME         DATE,
    created_ts            timestamp,
    modified_ts           timestamp	 
  ); 
  
  --------------------------------------------------------
PROMPT Creating table SS_MISSING_PARTS
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_MISSING_PARTS
   (	OWNER VARCHAR2(128), 
	TABLE_NAME VARCHAR2(128), 
	PARTITIONING_TYPE VARCHAR2(9), 
	SUBPARTITIONING_TYPE VARCHAR2(9), 
	PARTITION_FK VARCHAR2(128), 
	PART_DDL VARCHAR2(4000) default 'UNRESOLVED', 
	CREATED_TS TIMESTAMP (6), 
	MODIFIED_TS TIMESTAMP (6),
	OBJ_CRE_SEQ NUMBER
   );
  
  --------------------------------------------------------
PROMPT Creating table SS_MISSING_PARTS
--------------------------------------------------------
  CREATE TABLE &&OS_OWNER..SS_C_RULES_LIST
   (	RULE_ID NUMBER, 
	ACTUAL_OWNER VARCHAR2(128), 
	OWNER VARCHAR2(128), 
	TABLE_NAME VARCHAR2(128), 
	SS_RULE VARCHAR2(4000), 
	PK_COLS VARCHAR2(4000), 
	SEL_SQL VARCHAR2(4000), 
	CREATED_TS TIMESTAMP (6), 
	MODIFIED_TS TIMESTAMP (6)
   );  
  
--------------------------------------------------------
PROMPT Creating table SS_SCHEMA_LIST 
--------------------------------------------------------
   
  CREATE TABLE &&OS_OWNER..SS_SCHEMA_LIST
  (  SS_RUN_ID           NUMBER,
	 SRC_SCHEMA          VARCHAR2(128), 
	 DEST_SCHEMA         VARCHAR2(128), 
	 CRE_SEQ             NUMBER,
     created_ts          timestamp,
     modified_ts         timestamp	 
  );  
  
ALTER TABLE &&OS_OWNER..SS_SCHEMA_LIST ADD CONSTRAINT  PK_SCHEMA_LIST PRIMARY KEY (SS_RUN_ID,SRC_SCHEMA,DEST_SCHEMA); 

--------------------------------------------------------
PROMPT Creating table SS_SYNONYM_DDL 
--------------------------------------------------------
   
  CREATE TABLE &&OS_OWNER..SS_SYNONYM_DDL
  (	 SS_RUN_ID          NUMBER, 
	 STMT               VARCHAR2(4000), 
	 CREATED_TS         TIMESTAMP (6), 
	 MODIFIED_TS        TIMESTAMP (6) 
   );
   
--------------------------------------------------------
PROMPT Creating table SS_SRC_OBJECTS_SYNS 
--------------------------------------------------------
   
  CREATE TABLE &&OS_OWNER..SS_SRC_OBJECTS_SYNS 
   ( ACTUAL_OWNER       VARCHAR2(128), 
	 OWNER              VARCHAR2(128), 
	 OBJECT_NAME        VARCHAR2(128), 
	 OBJECT_TYPE        VARCHAR2(20), 
	 OBJECT_GROUP       VARCHAR2(1), 
	 SYNONYM_NAME       VARCHAR2(128),
     created_ts         timestamp,
     modified_ts        timestamp	 
   );  
 ALTER TABLE &&OS_OWNER..SS_SRC_OBJECTS_SYNS ADD CONSTRAINT pk_SS_SRC_OBJECTS_SYNS PRIMARY KEY (SYNONYM_NAME);
 
--------------------------------------------------------
PROMPT Creating table MD_DDL 
--------------------------------------------------------
   
  CREATE TABLE &&OS_OWNER..MD_DDL 
( md_ddl_id          NUMBER  NOT NULL ENABLE, 
  db_version               varchar2(11),  
  actual_owner             varchar2(128),     
  owner                    varchar2(128),    
  object_type              varchar2(128),
  object_name              varchar2(128),
  base_object_name         varchar2(128),
  object_ddl               CLOB,
  object_ddl_length        NUMBER,
  object_xml               XMLTYPE,
  object_cre_seq           number, 
  relational_level         number, 
  PARTITIONING_TYPE        varchar2(10),
  SUBPARTITIONING_TYPE     varchar2(10),
  ref_ptn_constraint_name  varchar2(128),
  view_name                varchar2(128),
  has_large_object         varchar2(1) default 'N',
  dp_YN                    varchar2(1) default 'N',
  created_ts               timestamp,
  modified_ts              timestamp
);  	

ALTER TABLE &&OS_OWNER..md_ddl ADD CONSTRAINT pk_md_ddl PRIMARY KEY (md_ddl_id); 
ALTER TABLE &&OS_OWNER..md_ddl ADD CONSTRAINT chk_has_large_object CHECK (has_large_object IN ( 'Y', 'N'));


--------------------------------------------------------
PROMPT Creating table MD_DDL_PARTS
--------------------------------------------------------
   
CREATE TABLE &&OS_OWNER..md_ddl_parts 
( part_seq_id        number,
  md_ddl_id          number,
  object_name        varchar2(128),
  object_ddl         varchar2(4000), 
  created_ts         timestamp,
  modified_ts        timestamp,  
  PRIMARY KEY (md_ddl_id,part_seq_id),
  CONSTRAINT fk_mdp  FOREIGN KEY (md_ddl_id) REFERENCES &&OS_OWNER..md_ddl (md_ddl_id)
);

--------------------------------------------------------
PROMPT Creating table ss_drop_ref_part_tab_log
--------------------------------------------------------
   
CREATE TABLE &&OS_OWNER..ss_drop_ref_part_tab_log(
  ss_run_id                number,
  actual_owner             varchar2(128),     
  owner                    varchar2(128),
  table_name               varchar2(128),
  exec_order               number,
  success_drop_order       number,
  cross_schema_fk          varchar2(128),
  parent_owner             varchar2(128),
  parent_table             varchar2(128),
  cross_schema_relation    varchar2(4000),
  ERRM                     VARCHAR2(4000),
  ERR_CODE                 NUMBER, 
  created_ts               timestamp,
  modified_ts              timestamp
);

ALTER TABLE &&OS_OWNER..ss_drop_ref_part_tab_log ADD CONSTRAINT pk_ss_drop_ref_part_tab_log PRIMARY KEY (ss_run_id,actual_owner,table_name,exec_order); 


CREATE UNIQUE INDEX &&OS_OWNER..ss_drop_ref_part_tab_log_I1 ON &&OS_OWNER..ss_drop_ref_part_tab_log (ss_run_id,success_drop_order);


--------------------------------------------------------
PROMPT Creating table SS_ADD_PARTITION_LOG
--------------------------------------------------------
   
CREATE TABLE &&OS_OWNER..SS_ADD_PARTITION_LOG
   (	SS_RUN_ID          NUMBER, 
	ACTUAL_OWNER           VARCHAR2(128), 
	OWNER                  VARCHAR2(128), 
	TABLE_NAME             VARCHAR2(128), 
	PARTITION_FK           VARCHAR2(128), 
	EXEC_ORDER             NUMBER, 
	SUCCESS_ADD_ORDER      NUMBER, 
	CROSS_SCHEMA_FK        VARCHAR2(128), 
	PARENT_OWNER           VARCHAR2(128), 
	PARENT_TABLE           VARCHAR2(128), 
	CROSS_SCHEMA_RELATION  VARCHAR2(4000), 
	ERRM                   VARCHAR2(4000), 
	ERR_CODE               NUMBER, 
    created_ts             timestamp,
    modified_ts            timestamp
);

ALTER TABLE &&OS_OWNER..SS_ADD_PARTITION_LOG ADD CONSTRAINT pk_ADD_PARTITION_LOG PRIMARY KEY (ss_run_id,actual_owner,table_name,exec_order);

CREATE UNIQUE INDEX &&OS_OWNER..ss_ADD_PARTITION_LOG_I1 ON &&OS_OWNER..SS_ADD_PARTITION_LOG (ss_run_id,SUCCESS_ADD_ORDER); 


--------------------------------------------------------
PROMPT Creating table SS_SCHEMA_LOAD_EXCL_CONFIG
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_SCHEMA_LOAD_EXCL_CONFIG ( 
     OWNER        VARCHAR2(30) NOT NULL,
     CREATED_TS   TIMESTAMP, 
     MODIFIED_TS  TIMESTAMP,
   CONSTRAINT  SS_SS_SCHEMA_LOAD_EXCL_CONFIG_PK PRIMARY KEY (OWNER)  
  ) ;



--------------------------------------------------------
PROMPT Creating table SS_LOAD_EXCL_CONFIG
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_LOAD_EXCL_CONFIG ( 
     OWNER        VARCHAR2(30) NOT NULL,
     TABLE_NAME   VARCHAR2(100) NOT NULL, 
     CREATED_TS   TIMESTAMP, 
     MODIFIED_TS  TIMESTAMP,
   CONSTRAINT  SS_LOAD_EXCL_CONFIG_PK PRIMARY KEY (OWNER,TABLE_NAME)  
  ) ;

  --------------------------------------------------------
PROMPT Creating table SS_LOAD_INCL_CONFIG
--------------------------------------------------------

 CREATE TABLE &&OS_OWNER..SS_LOAD_INCL_CONFIG ( 
     OWNER        VARCHAR2(30) NOT NULL,
     TABLE_NAME   VARCHAR2(100) NOT NULL, 
     CREATED_TS   TIMESTAMP, 
     MODIFIED_TS  TIMESTAMP,
   CONSTRAINT  SS_LOAD_INCL_CONFIG_PK PRIMARY KEY (OWNER,TABLE_NAME)  
  ) ;


--------------------------------------------------------
PROMPT Creating table ss_rules_config
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..ss_rules_config (
    RULE_ID       NUMBER NOT NULL, 
    OWNER         VARCHAR2(30) NOT NULL,
    TABLE_NAME    VARCHAR2(100) NOT NULL,
    SS_RULE       VARCHAR2(4000) NOT NULL, 
    created_ts             timestamp,
    modified_ts            timestamp,
  CONSTRAINT ss_rules_config_pk PRIMARY KEY (RULE_ID) 
);

--------------------------------------------------------
PROMPT Creating table SS_RULES_DET
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_RULES_DET 
   ( RULE_ID          NUMBER, 
	 FK_SEQ           NUMBER, 
	 FK_MAX_SEQ       NUMBER, 
	 DET_TYPE         VARCHAR2(1), 
	 OWNER            VARCHAR2(128), 
	 TABLE_NAME       VARCHAR2(128), 
	 RI_COLS          VARCHAR2(128), 
	 PK_COLS          VARCHAR2(128), 
	 CONSTRAINT_NAME  VARCHAR2(128), 
     created_ts       timestamp,
     modified_ts      timestamp
   );
  
--------------------------------------------------------
PROMPT Creating table SS_RULES_PART_SQL
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_RULES_PART_SQL 
   (	FK_MAX_SEQ   NUMBER, 
	FK_SEQ           NUMBER, 
	RULE_ID          NUMBER, 
	SEL_SQL          CLOB, 
	SQL_FILTER       CLOB, 
	DET_TYPE         VARCHAR2(1), 
	OWNER            VARCHAR2(128), 
	TABLE_NAME       VARCHAR2(128), 
	CONSTRAINT_NAME  VARCHAR2(128), 
	SQL_SEQ          NUMBER, 
    created_ts       timestamp,
    modified_ts      timestamp
   );
   
--------------------------------------------------------
PROMPT Creating table SS_RULES_SQL
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_RULES_SQL 
   ( table_name      varchar2(128),
     owner           varchar2(128),       
     FULL_SQL        VARCHAR2(4000),  
     created_ts      timestamp,
     modified_ts     timestamp
   );
   
--------------------------------------------------------
PROMPT Creating table SS_CONSTRAINT_RULES_LIST
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_CONSTRAINT_RULES_LIST 
   (	RULE_ID      NUMBER, 
	ACTUAL_OWNER     VARCHAR2(128), 
	OWNER            VARCHAR2(128), 
	TABLE_NAME       VARCHAR2(128), 
	SS_RULE          VARCHAR2(4000),
    created_ts       timestamp,
    modified_ts      timestamp
   );
   
--------------------------------------------------------
PROMPT Creating table SS_CONSTRAINT_RULES_DET
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_CONSTRAINT_RULES_DET 
   (	CHILD_CONSTRAINT_NAME  VARCHAR2(128) NOT NULL, 
	CHILD_TABLE_OWNER          VARCHAR2(128) NOT NULL,
	CHILD_TABLE_NAME           VARCHAR2(128) NOT NULL, 
	PARENT_TABLE_OWNER         VARCHAR2(128), 
	PARENT_TABLE_NAME          VARCHAR2(128) NOT NULL, 
	PARENT_CONSTRAINT_NAME     VARCHAR2(128) NOT NULL, 
	CHILD_COLS                 VARCHAR2(4000), 
	PARENT_COLS                VARCHAR2(4000), 
	FK_MAX_SEQ                 NUMBER, 
	FK_SEQ                     NUMBER, 
	RULE_ID                    NUMBER, 
	CHILD_PK_COLS              VARCHAR2(128), 
	PARENT_PK_COLS             VARCHAR2(128),
    created_ts                 timestamp,
    modified_ts                timestamp	 	
   );
   
--------------------------------------------------------
PROMPT Creating table SS_CONSTRAINT_RULES_LIST_CONS
--------------------------------------------------------

  CREATE TABLE &&OS_OWNER..SS_CONSTRAINT_RULES_LIST_CONS 
   (  RULE_ID           NUMBER, 
	  ACTUAL_OWNER      VARCHAR2(128), 
	  OWNER             VARCHAR2(128), 
      TABLE_NAME        VARCHAR2(128), 
	  CONSTRAINT_NAME   VARCHAR2(128), 
	  FK_SEQ            NUMBER, 
	  FK_MAX_SEQ        NUMBER,
      created_ts        timestamp,
      modified_ts       timestamp	  
   );
 
--------------------------------------------------------
PROMPT Creating table SRC_PSEUDO_CONS_COLUMNS
--------------------------------------------------------
 
  CREATE TABLE &&OS_OWNER..SRC_PSEUDO_CONS_COLUMNS 
   (  OWNER             VARCHAR2(128)  NOT NULL ENABLE, 
      CONSTRAINT_NAME   VARCHAR2(128)  NOT NULL ENABLE, 
      table_name        VARCHAR2(128)  NOT NULL ENABLE, 
      COLUMN_NAME       VARCHAR2(4000) NOT NULL ENABLE, 
      POSITION          NUMBER
   ); 
   
--------------------------------------------------------
PROMPT Creating table SRC_PSEUDO_CONSTRAINTS
--------------------------------------------------------
    
 CREATE TABLE &&OS_OWNER..SRC_PSEUDO_CONSTRAINTS 
   (  OWNER             VARCHAR2(128), 
      CONSTRAINT_NAME   VARCHAR2(128), 
      TABLE_NAME        VARCHAR2(128),
      CONSTRAINT_TYPE   VARCHAR2(1)
   ); 
  
--------------------------------------------------------
PROMPT Creating table SS_REF_DATA_FAILURES_DET
--------------------------------------------------------
    
 CREATE TABLE &&OS_OWNER..SS_REF_DATA_FAILURES_DET 
   (	CONSTRAINT_NAME VARCHAR2(128), 
	CHILD_TABLE_OWNER VARCHAR2(128), 
	CHILD_TABLE_NAME VARCHAR2(128), 
	PARENT_TABLE_OWNER VARCHAR2(128), 
	PARENT_TABLE_NAME VARCHAR2(128), 
	CHILD_COLS VARCHAR2(4000), 
	PARENT_COLS VARCHAR2(4000),
    created_ts        timestamp,
    modified_ts       timestamp	
   );

--------------------------------------------------------
PROMPT Creating table SS_REF_DATA_FAILURES_FIX_SQL
--------------------------------------------------------
    
 CREATE TABLE &&OS_OWNER..SS_REF_DATA_FAILURES_FIX_SQL 
   (	CHILD_TABLE_OWNER VARCHAR2(128), 
	CHILD_TABLE_NAME VARCHAR2(128), 
	STMT VARCHAR2(4000), 
	AORDER NUMBER,
    created_ts        timestamp,
    modified_ts       timestamp	
   );

--------------------------------------------------------
PROMPT Creating table SS_REF_DATA_FAILURES_LIST
--------------------------------------------------------
    
 CREATE TABLE &&OS_OWNER..SS_REF_DATA_FAILURES_LIST 
   (	OWNER VARCHAR2(128), 
	TABLE_NAME VARCHAR2(128), 
	ACONSTRAINT VARCHAR2(128), 
	ACTUAL_CONS_OWNER VARCHAR2(128), 
	CONS_NAME VARCHAR2(128),
      created_ts        timestamp,
      modified_ts       timestamp	
   );


--------------------------------------------------------
PROMPT Creating table SS_STAR_RULES_LIST
--------------------------------------------------------
    
 CREATE TABLE &&OS_OWNER..SS_STAR_RULES_LIST 
   ( RULE_ID NUMBER, 
     ACTUAL_OWNER VARCHAR2(128), 
     OWNER VARCHAR2(128), 
     TABLE_NAME VARCHAR2(128), 
     SS_RULE VARCHAR2(4000), 
     PK_COLS VARCHAR2(4000), 
     SEL_SQL VARCHAR2(4000),     
     CREATED_TS TIMESTAMP (6), 
     MODIFIED_TS TIMESTAMP (6)
   ); 
   
